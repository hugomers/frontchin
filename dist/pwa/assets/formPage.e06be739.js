import{t as Pe,u as Ee,a as Ve,v as me,g as Re,m as je,o as Ae,q as fe,s as Z,Q as ge,p as $}from"./use-quasar.b5b8c4da.js";import{X as Ie,l as se,Y as Oe,c as h,h as y,_ as Ne,j as ae,r as U,ag as qe,s as te,a9 as $e,S as Se,y as ke,as as De,n as Te,o as Le,at as Qe,a5 as Me,al as Xe,U as be,Q as He,am as oe,ak as We,z as Ye,A as Ge,a as Ke,B as Je,v as Ze,aq as et,M as ye,N as tt,O as Q,P as C,ao as j,ap as M,au as I,av as at,aw as V,ax as lt}from"./index.90129f9e.js";import{a as _e,b as he}from"./axios.8cb4e76c.js";import"./uid.42677368.js";const ot={...Ie,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:a=>a>=0&&a<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ue=50,Ce=2*ue,ze=Ce*Math.PI,ut=Math.round(ze*1e3)/1e3;var st=se({name:"QCircularProgress",props:{...ot,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(a,{slots:c}){const{proxy:{$q:e}}=ae(),n=Oe(a),d=h(()=>{const r=(e.lang.rtl===!0?-1:1)*a.angle;return{transform:a.reverse!==(e.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-r}deg)`:`rotate3d(0, 0, 1, ${r-90}deg)`}}),v=h(()=>a.instantFeedback!==!0&&a.indeterminate!==!0?{transition:`stroke-dashoffset ${a.animationSpeed}ms ease 0s, stroke ${a.animationSpeed}ms ease`}:""),_=h(()=>Ce/(1-a.thickness/2)),m=h(()=>`${_.value/2} ${_.value/2} ${_.value} ${_.value}`),B=h(()=>Pe(a.value,a.min,a.max)),q=h(()=>a.max-a.min),k=h(()=>a.thickness/2*_.value),w=h(()=>{const r=(a.max-B.value)/q.value,t=a.rounded===!0&&B.value<a.max&&r<.25?k.value/2*(1-r/.25):0;return ze*r+t});function E({thickness:r,offset:t,color:g,cls:P,rounded:f}){return y("circle",{class:"q-circular-progress__"+P+(g!==void 0?` text-${g}`:""),style:v.value,fill:"transparent",stroke:"currentColor","stroke-width":r,"stroke-dasharray":ut,"stroke-dashoffset":t,"stroke-linecap":f,cx:_.value,cy:_.value,r:ue})}return()=>{const r=[];a.centerColor!==void 0&&a.centerColor!=="transparent"&&r.push(y("circle",{class:`q-circular-progress__center text-${a.centerColor}`,fill:"currentColor",r:ue-k.value/2,cx:_.value,cy:_.value})),a.trackColor!==void 0&&a.trackColor!=="transparent"&&r.push(E({cls:"track",thickness:k.value,offset:0,color:a.trackColor})),r.push(E({cls:"circle",thickness:k.value,offset:w.value,color:a.color,rounded:a.rounded===!0?"round":void 0}));const t=[y("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:m.value,"aria-hidden":"true"},r)];return a.showValue===!0&&t.push(y("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:a.fontSize}},c.default!==void 0?c.default():[y("div",B.value)])),y("div",{class:`q-circular-progress q-circular-progress--${a.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.indeterminate===!0?void 0:B.value},Ne(c.internal,t))}}});function G(a,c,e,n){const d=[];return a.forEach(v=>{n(v)===!0?d.push(v):c.push({failedPropValidation:e,file:v})}),d}function ee(a){a&&a.dataTransfer&&(a.dataTransfer.dropEffect="copy"),te(a)}const rt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},nt=["rejected"];function it({editable:a,dnd:c,getFileInput:e,addFilesToQueue:n}){const{props:d,emit:v,proxy:_}=ae(),m=U(null),B=h(()=>d.accept!==void 0?d.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),q=h(()=>parseInt(d.maxFiles,10)),k=h(()=>parseInt(d.maxTotalSize,10));function w(s){if(a.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&qe(s);else{const p=e();p&&p!==s.target&&p.click(s)}}function E(s){a.value&&s&&n(null,s)}function r(s,p,i,l){let u=Array.from(p||s.target.files);const S=[],O=()=>{S.length!==0&&v("rejected",S)};if(d.accept!==void 0&&B.value.indexOf("*/")===-1&&(u=G(u,S,"accept",x=>B.value.some(z=>x.type.toUpperCase().startsWith(z)||x.name.toUpperCase().endsWith(z))),u.length===0))return O();if(d.maxFileSize!==void 0){const x=parseInt(d.maxFileSize,10);if(u=G(u,S,"max-file-size",z=>z.size<=x),u.length===0)return O()}if(d.multiple!==!0&&u.length!==0&&(u=[u[0]]),u.forEach(x=>{x.__key=x.webkitRelativePath+x.lastModified+x.name+x.size}),l===!0){const x=i.map(z=>z.__key);u=G(u,S,"duplicate",z=>x.includes(z.__key)===!1)}if(u.length===0)return O();if(d.maxTotalSize!==void 0){let x=l===!0?i.reduce((z,D)=>z+D.size,0):0;if(u=G(u,S,"max-total-size",z=>(x+=z.size,x<=k.value)),u.length===0)return O()}if(typeof d.filter=="function"){const x=d.filter(u);u=G(u,S,"filter",z=>x.includes(z))}if(d.maxFiles!==void 0){let x=l===!0?i.length:0;if(u=G(u,S,"max-files",()=>(x++,x<=q.value)),u.length===0)return O()}if(O(),u.length!==0)return u}function t(s){ee(s),c.value!==!0&&(c.value=!0)}function g(s){te(s),(s.relatedTarget!==null||$e.is.safari!==!0?s.relatedTarget!==m.value:document.elementsFromPoint(s.clientX,s.clientY).includes(m.value)===!1)===!0&&(c.value=!1)}function P(s){ee(s);const p=s.dataTransfer.files;p.length!==0&&n(null,p),c.value=!1}function f(s){if(c.value===!0)return y("div",{ref:m,class:`q-${s}__dnd absolute-full`,onDragenter:ee,onDragover:ee,onDragleave:g,onDrop:P})}return Object.assign(_,{pickFiles:w,addFiles:E}),{pickFiles:w,addFiles:E,onDragover:t,onDragleave:g,processFiles:r,getDndNode:f,maxFilesNumber:q,maxTotalSizeNumber:k}}function xe(a){return(a*100).toFixed(2)+"%"}const dt={...Ee,...rt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},we=[...nt,"start","finish","added","removed"];function ct(a,c){const e=ae(),{props:n,slots:d,emit:v,proxy:_}=e,{$q:m}=_,B=Ve(n,m);function q(o,F,R){if(o.__status=F,F==="idle"){o.__uploaded=0,o.__progress=0,o.__sizeLabel=me(o.size),o.__progressLabel="0.00%";return}if(F==="failed"){_.$forceUpdate();return}o.__uploaded=F==="uploaded"?o.size:R,o.__progress=F==="uploaded"?1:Math.min(.9999,o.__uploaded/o.size),o.__progressLabel=xe(o.__progress),_.$forceUpdate()}const k=h(()=>n.disable!==!0&&n.readonly!==!0),w=U(!1),E=U(null),r=U(null),t={files:U([]),queuedFiles:U([]),uploadedFiles:U([]),uploadedSize:U(0),updateFileStatus:q,isAlive:()=>Se(e)===!1},{pickFiles:g,addFiles:P,onDragover:f,onDragleave:s,processFiles:p,getDndNode:i,maxFilesNumber:l,maxTotalSizeNumber:u}=it({editable:k,dnd:w,getFileInput:ie,addFilesToQueue:de});Object.assign(t,a({props:n,slots:d,emit:v,helpers:t,exposeApi:o=>{Object.assign(t,o)}})),t.isBusy===void 0&&(t.isBusy=U(!1));const S=U(0),O=h(()=>S.value===0?0:t.uploadedSize.value/S.value),x=h(()=>xe(O.value)),z=h(()=>me(S.value)),D=h(()=>k.value===!0&&t.isUploading.value!==!0&&(n.multiple===!0||t.queuedFiles.value.length===0)&&(n.maxFiles===void 0||t.files.value.length<l.value)&&(n.maxTotalSize===void 0||S.value<u.value)),b=h(()=>k.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);ke(De,ve);const X=h(()=>"q-uploader column no-wrap"+(B.value===!0?" q-uploader--dark q-dark":"")+(n.bordered===!0?" q-uploader--bordered":"")+(n.square===!0?" q-uploader--square no-border-radius":"")+(n.flat===!0?" q-uploader--flat no-shadow":"")+(n.disable===!0?" disabled q-uploader--disable":"")+(w.value===!0?" q-uploader--dnd":"")),H=h(()=>"q-uploader__header"+(n.color!==void 0?` bg-${n.color}`:"")+(n.textColor!==void 0?` text-${n.textColor}`:""));Te(t.isUploading,(o,F)=>{F===!1&&o===!0?v("start"):F===!0&&o===!1&&v("finish")});function W(){n.disable===!1&&(t.abort(),t.uploadedSize.value=0,S.value=0,ne(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function N(){n.disable===!1&&re(["uploaded"],()=>{t.uploadedFiles.value=[]})}function J(){re(["idle","failed"],({size:o})=>{S.value-=o,t.queuedFiles.value=[]})}function re(o,F){if(n.disable===!0)return;const R={files:[],size:0},T=t.files.value.filter(A=>o.indexOf(A.__status)===-1?!0:(R.size+=A.size,R.files.push(A),A.__img!==void 0&&window.URL.revokeObjectURL(A.__img.src),!1));R.files.length!==0&&(t.files.value=T,F(R),v("removed",R.files))}function le(o){n.disable||(o.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(F=>F.__key!==o.__key):o.__status==="uploading"?o.__abort():S.value-=o.size,t.files.value=t.files.value.filter(F=>F.__key!==o.__key?!0:(F.__img!==void 0&&window.URL.revokeObjectURL(F.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(F=>F.__key!==o.__key),v("removed",[o]))}function ne(){t.files.value.forEach(o=>{o.__img!==void 0&&window.URL.revokeObjectURL(o.__img.src)})}function ie(){return r.value||E.value.getElementsByClassName("q-uploader__input")[0]}function de(o,F){const R=p(o,F,t.files.value,!0),T=ie();T!=null&&(T.value=""),R!==void 0&&(R.forEach(A=>{if(t.updateFileStatus(A,"idle"),S.value+=A.size,n.noThumbnails!==!0&&A.type.toUpperCase().startsWith("IMAGE")){const pe=new Image;pe.src=window.URL.createObjectURL(A),A.__img=pe}}),t.files.value=t.files.value.concat(R),t.queuedFiles.value=t.queuedFiles.value.concat(R),v("added",R),n.autoUpload===!0&&t.upload())}function ce(){b.value===!0&&t.upload()}function K(o,F,R){if(o===!0){const T={type:"a",key:F,icon:m.iconSet.uploader[F],flat:!0,dense:!0};let A;return F==="add"?(T.onClick=g,A=ve):T.onClick=R,y(oe,T,A)}}function ve(){return y("input",{ref:r,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:n.accept,multiple:n.multiple===!0?"multiple":void 0,capture:n.capture,onMousedown:qe,onClick:g,onChange:de})}function Ue(){return d.header!==void 0?d.header(Y):[y("div",{class:"q-uploader__header-content column"},[y("div",{class:"flex flex-center no-wrap q-gutter-xs"},[K(t.queuedFiles.value.length!==0,"removeQueue",J),K(t.uploadedFiles.value.length!==0,"removeUploaded",N),t.isUploading.value===!0?y(be,{class:"q-uploader__spinner"}):null,y("div",{class:"col column justify-center"},[n.label!==void 0?y("div",{class:"q-uploader__title"},[n.label]):null,y("div",{class:"q-uploader__subtitle"},[z.value+" / "+x.value])]),K(D.value,"add"),K(n.hideUploadBtn===!1&&b.value===!0,"upload",t.upload),K(t.isUploading.value,"clear",t.abort)])])]}function Be(){return d.list!==void 0?d.list(Y):t.files.value.map(o=>y("div",{key:o.__key,class:"q-uploader__file relative-position"+(n.noThumbnails!==!0&&o.__img!==void 0?" q-uploader__file--img":"")+(o.__status==="failed"?" q-uploader__file--failed":o.__status==="uploaded"?" q-uploader__file--uploaded":""),style:n.noThumbnails!==!0&&o.__img!==void 0?{backgroundImage:'url("'+o.__img.src+'")'}:null},[y("div",{class:"q-uploader__file-header row flex-center no-wrap"},[o.__status==="failed"?y(He,{class:"q-uploader__file-status",name:m.iconSet.type.negative,color:"negative"}):null,y("div",{class:"q-uploader__file-header-content col"},[y("div",{class:"q-uploader__title"},[o.name]),y("div",{class:"q-uploader__subtitle row items-center no-wrap"},[o.__sizeLabel+" / "+o.__progressLabel])]),o.__status==="uploading"?y(st,{value:o.__progress,min:0,max:1,indeterminate:o.__progress===0}):y(oe,{round:!0,dense:!0,flat:!0,icon:m.iconSet.uploader[o.__status==="uploaded"?"done":"clear"],onClick:()=>{le(o)}})])]))}Le(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&ne()});const Y={};for(const o in t)Qe(t[o])===!0?Me(Y,o,()=>t[o].value):Y[o]=t[o];return Object.assign(Y,{upload:ce,reset:W,removeUploadedFiles:N,removeQueuedFiles:J,removeFile:le,pickFiles:g,addFiles:P}),Xe(Y,{canAddFiles:()=>D.value,canUpload:()=>b.value,uploadSizeLabel:()=>z.value,uploadProgressLabel:()=>x.value}),c({...t,upload:ce,reset:W,removeUploadedFiles:N,removeQueuedFiles:J,removeFile:le,pickFiles:g,addFiles:P,canAddFiles:D,canUpload:b,uploadSizeLabel:z,uploadProgressLabel:x}),()=>{const o=[y("div",{class:H.value},Ue()),y("div",{class:"q-uploader__list scroll"},Be()),i("uploader")];t.isBusy.value===!0&&o.push(y("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[y(be)]));const F={ref:E,class:X.value};return D.value===!0&&Object.assign(F,{onDragover:f,onDragleave:s}),y("div",F,o)}}const vt=()=>!0;function pt(a){const c={};return a.forEach(e=>{c[e]=vt}),c}const mt=pt(we);var ft=({name:a,props:c,emits:e,injectPlugin:n})=>se({name:a,props:{...dt,...c},emits:We(e)===!0?{...mt,...e}:[...we,...e],setup(d,{expose:v}){return ct(n,v)}});function L(a){return typeof a=="function"?a:()=>a}const gt={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>a=>a.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},bt=["factoryFailed","uploaded","failed","uploading"];function yt({props:a,emit:c,helpers:e}){const n=U([]),d=U([]),v=U(0),_=h(()=>({url:L(a.url),method:L(a.method),headers:L(a.headers),formFields:L(a.formFields),fieldName:L(a.fieldName),withCredentials:L(a.withCredentials),sendRaw:L(a.sendRaw),batch:L(a.batch)})),m=h(()=>v.value>0),B=h(()=>d.value.length!==0);let q;function k(){n.value.forEach(t=>{t.abort()}),d.value.length!==0&&(q=!0)}function w(){const t=e.queuedFiles.value.slice(0);e.queuedFiles.value=[],_.value.batch(t)?E(t):t.forEach(g=>{E([g])})}function E(t){if(v.value++,typeof a.factory!="function"){r(t,{});return}const g=a.factory(t);if(!g)c("factoryFailed",new Error("QUploader: factory() does not return properly"),t),v.value--;else if(typeof g.catch=="function"&&typeof g.then=="function"){d.value.push(g);const P=f=>{e.isAlive()===!0&&(d.value=d.value.filter(s=>s!==g),d.value.length===0&&(q=!1),e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(s=>{e.updateFileStatus(s,"failed")}),c("factoryFailed",f,t),v.value--)};g.then(f=>{q===!0?P(new Error("Aborted")):e.isAlive()===!0&&(d.value=d.value.filter(s=>s!==g),r(t,f))}).catch(P)}else r(t,g||{})}function r(t,g){const P=new FormData,f=new XMLHttpRequest,s=(b,X)=>g[b]!==void 0?L(g[b])(X):_.value[b](X),p=s("url",t);if(!p){console.error("q-uploader: invalid or no URL specified"),v.value--;return}const i=s("formFields",t);i!==void 0&&i.forEach(b=>{P.append(b.name,b.value)});let l=0,u=0,S=0,O=0,x;f.upload.addEventListener("progress",b=>{if(x===!0)return;const X=Math.min(O,b.loaded);e.uploadedSize.value+=X-S,S=X;let H=S-u;for(let W=l;H>0&&W<t.length;W++){const N=t[W];if(H>N.size)H-=N.size,l++,u+=N.size,e.updateFileStatus(N,"uploading",N.size);else{e.updateFileStatus(N,"uploading",H);return}}},!1),f.onreadystatechange=()=>{f.readyState<4||(f.status&&f.status<400?(e.uploadedFiles.value=e.uploadedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"uploaded")}),c("uploaded",{files:t,xhr:f})):(x=!0,e.uploadedSize.value-=S,e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"failed")}),c("failed",{files:t,xhr:f})),v.value--,n.value=n.value.filter(b=>b!==f))},f.open(s("method",t),p),s("withCredentials",t)===!0&&(f.withCredentials=!0);const z=s("headers",t);z!==void 0&&z.forEach(b=>{f.setRequestHeader(b.name,b.value)});const D=s("sendRaw",t);t.forEach(b=>{e.updateFileStatus(b,"uploading",0),D!==!0&&P.append(s("fieldName",b),b,b.name),b.xhr=f,b.__abort=()=>{f.abort()},O+=b.size}),c("uploading",{files:t,xhr:f}),n.value.push(f),D===!0?f.send(new Blob(t)):f.send(P)}return{isUploading:m,isBusy:B,abort:k,upload:w}}var _t={name:"QUploader",props:gt,emits:bt,injectPlugin:yt},Fe=ft(_t),ht=se({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(a,{slots:c,emit:e}){const n=ae(),d=U(null);let v=0;const _=[];function m(r){const t=typeof r=="boolean"?r:a.noErrorFocus!==!0,g=++v,P=(p,i)=>{e("validation"+(p===!0?"Success":"Error"),i)},f=p=>{const i=p.validate();return typeof i.then=="function"?i.then(l=>({valid:l,comp:p}),l=>({valid:!1,comp:p,err:l})):Promise.resolve({valid:i,comp:p})};return(a.greedy===!0?Promise.all(_.map(f)).then(p=>p.filter(i=>i.valid!==!0)):_.reduce((p,i)=>p.then(()=>f(i).then(l=>{if(l.valid===!1)return Promise.reject(l)})),Promise.resolve()).catch(p=>[p])).then(p=>{if(p===void 0||p.length===0)return g===v&&P(!0),!0;if(g===v){const{comp:i,err:l}=p[0];if(l!==void 0&&console.error(l),P(!1,i),t===!0){const u=p.find(({comp:S})=>typeof S.focus=="function"&&Se(S.$)===!1);u!==void 0&&u.comp.focus()}}return!1})}function B(){v++,_.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function q(r){r!==void 0&&te(r);const t=v+1;m().then(g=>{t===v&&g===!0&&(a.onSubmit!==void 0?e("submit",r):r!==void 0&&r.target!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function k(r){r!==void 0&&te(r),e("reset"),Ze(()=>{B(),a.autofocus===!0&&a.noResetFocus!==!0&&w()})}function w(){Re(()=>{if(d.value===null)return;const r=d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),t=>t.tabIndex>-1);r!=null&&r.focus({preventScroll:!0})})}ke(et,{bindComponent(r){_.push(r)},unbindComponent(r){const t=_.indexOf(r);t>-1&&_.splice(t,1)}});let E=!1;return Ye(()=>{E=!0}),Ge(()=>{E===!0&&a.autofocus===!0&&w()}),Ke(()=>{a.autofocus===!0&&w()}),Object.assign(n.proxy,{validate:m,resetValidation:B,submit:q,reset:k,focus:w,getValidationComponents:()=>_}),()=>y("form",{class:"q-form",ref:d,onSubmit:q,onReset:k},Je(c.default))}});const xt=j("div",{class:"text-grey-7 text-center text-overline"},"COSTO CHINO MXM",-1),Ft={class:"text-center text-bold text-italic"},qt=j("div",{class:"text-grey-7 text-center text-overline"},"COSTO MEXICANO",-1),St={class:"text-center text-bold text-italic"},kt=j("div",{class:"text-grey-7 text-center text-overline"},"IMPUESTO",-1),Ct={class:"text-center text-bold text-italic"},zt={class:"row"},wt={class:"col flex justify-center"},Ut={class:"col flex justify-center"},Bt={key:0,class:"col flex justify-center"},Pt={class:"flex justify-center"},At={__name:"formPage",setup(a){const c=je(),e=U({picture:null,provider:null,code:"",description:"",yuanes:0,pxc:0,qubic:0,taxes:0,freight:0,tpcusd:0,tpcrmb:0,mcont:68,notes:""}),n=U([]);U([]);const d=U(null),v=U(null),_=h(()=>e.value.code.length>0&&e.value.description.length>0),m=h(()=>c.platform.is.mobile),B=h(()=>c.platform.is.mobile?"width: 90%; height:270px":"width: 350px; height:285px"),q=h(()=>c.platform.is.mobile?"width: 370px;":"width: 90%;"),k=h(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?((parseFloat(e.value.taxes)+parseFloat(e.value.freight))/(e.value.mcont/e.value.qubic*e.value.pxc)+e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(2):0),w=h(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?(e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(2):0),E=i=>{let l=i[0].type.split("/");console.log(l[1]),e.value.picture=l[1]},r=i=>{e.value.provider=i[0].name},t=i=>{console.log(i);const l=new FormData;return l.append("files",i[0]),l.append("__key",e.value.code+`.${e.value.picture}`),console.log(l),he.post("https://apichin.grupovizcarra.net/api/addFile",l).then(u=>{console.log("Archivos subidos exitosamente:",u.data),d.value.reset(),c.notify({type:"positive",message:"Imagen Producto se subio con exito :"+u.data,position:"center"})}).catch(u=>{console.error("Error al subir archivos:",u),c.notify({type:"negative",message:"(I)Error al subir archivo:"+response.data,position:"center"})}),"https://apichin.grupovizcarra.net/api/addFile"},g=i=>{console.log(i);const l=new FormData;return l.append("files",i[0]),l.append("__key",e.value.code+"_"+e.value.provider),console.log(l),he.post("https://apichin.grupovizcarra.net/api/addFile",l).then(u=>{console.log("Archivos subidos exitosamente:",u.data),v.value.reset(),c.notify({type:"positive",message:"Imagen Proveedor se subio con exito :"+u.data,position:"center"})}).catch(u=>{console.error("Error al subir archivos:",u),c.notify({type:"negative",message:"(P)Error al subir archivo:"+response.data,position:"center"})}),"https://apichin.grupovizcarra.net/api/addFile"},P=()=>{d.value.upload()},f=()=>{v.value.upload()},s=async()=>{c.loading.show({message:"Cargando Formulario"}),console.log("Obteniendo Articulos"),_e.get("/getProducts").then(i=>{console.log(i.data),n.value=i.data.products,e.value.taxes=i.data.expenses.find(l=>l.id===1)._value,e.value.freight=i.data.expenses.find(l=>l.id===2)._value,e.value.tpcusd=i.data.expenses.find(l=>l.id===3)._value,e.value.tpcrmb=i.data.expenses.find(l=>l.id===4)._value,c.loading.hide()}).catch(i=>{console.error(i)})},p=async()=>{c.loading.show({message:"Subiendo Info"});let i={code:e.value.code,picture:e.value.picture!=null?"/"+e.value.code+`.${e.value.picture}`:"/vacio.jpg",description:e.value.description,provider:e.value.provider!=null?"/"+e.value.code+"_"+e.value.provider:"/vacio.jpg",chinesse_cost:w.value,taxes:e.value.taxes,freight:e.value.freight,measures:e.value.qubic,mexican_cost:k.value,pieces:e.value.pxc,_download:0,notes:e.value.notes};console.log(i),_e.post("/insProduct",i).then(l=>{console.log(l.data),P(),f(),e.value.code="",e.value.description="",e.value.provider=null,e.value.yuanes=0,e.value.pxc=0,e.value.qubic=0,c.loading.hide(),c.notify({type:"positive",message:"Formulario Enviado",position:"center"})}).catch(l=>{console.error(l),c.loading.hide(),c.notify({type:"negative",message:"Hubo Algun problema",position:"center"})})};return s(),(i,l)=>(ye(),tt(Ae,{padding:""},{default:Q(()=>[C(ht,{class:"q-gutter-md"},{default:Q(()=>[C(fe,{class:"my-card row"},{default:Q(()=>[C(Z,{class:"col"},{default:Q(()=>[xt,j("div",Ft," $ "+M(w.value),1)]),_:1}),C(ge,{vertical:""}),C(Z,{class:"col"},{default:Q(()=>[qt,j("div",St," $ "+M(k.value),1)]),_:1}),C(ge,{vertical:""}),C(Z,{class:"col"},{default:Q(()=>[kt,j("div",Ct," $ "+M((k.value-w.value).toFixed(2)),1)]),_:1})]),_:1}),j("div",zt,[j("div",wt,[C(Fe,{"hide-upload-btn":!0,ref_key:"uploaderRef",ref:d,url:t,color:"primary",style:I(B.value),label:"Imagen Articulo",onAdded:E},null,8,["style"])]),j("div",Ut,[C(Fe,{"hide-upload-btn":!0,ref_key:"uploaderRefprov",ref:v,url:g,color:"primary",style:I(B.value),label:"Imagen Proveedor",onAdded:r},null,8,["style"])]),m.value?lt("",!0):(ye(),at("div",Bt,[C(fe,{class:"my-card",style:I(B.value)},{default:Q(()=>[C(Z,null,{default:Q(()=>[j("div",{class:V(m.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Codigo : "+M(e.value.code.toUpperCase()),3),j("div",{class:V(m.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Descripcion : "+M(e.value.description.toUpperCase()),3),j("div",{class:V(m.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Chino : $ "+M(w.value),3),j("div",{class:V(m.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Mexicano : $ "+M(k.value),3),j("div",{class:V(m.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Gato X articulo: $ "+M(k.value-w.value),3)]),_:1})]),_:1},8,["style"])]))]),j("div",Pt,[C($,{filled:"",modelValue:e.value.code,"onUpdate:modelValue":l[0]||(l[0]=u=>e.value.code=u),type:"text",label:"Codigo",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md"),mask:"XXXXXXXXXXXX"},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.description,"onUpdate:modelValue":l[1]||(l[1]=u=>e.value.description=u),type:"text",label:"Descripcion",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.notes,"onUpdate:modelValue":l[2]||(l[2]=u=>e.value.notes=u),type:"text",label:"Notas",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.yuanes,"onUpdate:modelValue":l[3]||(l[3]=u=>e.value.yuanes=u),type:"number",label:"Yuanes 	\xA5",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.pxc,"onUpdate:modelValue":l[4]||(l[4]=u=>e.value.pxc=u),type:"number",label:"Piezas Por Caja",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.qubic,"onUpdate:modelValue":l[5]||(l[5]=u=>e.value.qubic=u),type:"number",label:"Cubicaje",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.taxes,"onUpdate:modelValue":l[6]||(l[6]=u=>e.value.taxes=u),type:"number",label:"Impuestos",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.freight,"onUpdate:modelValue":l[7]||(l[7]=u=>e.value.freight=u),type:"number",label:"Flete",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.tpcusd,"onUpdate:modelValue":l[8]||(l[8]=u=>e.value.tpcusd=u),type:"number",label:"Tipo Cambio USD",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C($,{filled:"",modelValue:e.value.tpcrmb,"onUpdate:modelValue":l[9]||(l[9]=u=>e.value.tpcrmb=u),type:"number",label:"Tipo Cambio RMB",style:I(q.value),class:V(m.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),C(oe,{style:I(q.value),color:"primary",icon:"list",label:"Enviar Formulario",onClick:p,class:V(m.value?"q-mt-xs":"q-mt-md"),disable:!_.value},null,8,["style","class","disable"])])]),_:1})]),_:1}))}};export{At as default};
