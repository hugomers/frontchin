import{Q as le}from"./QBtn.b6c35c71.js";import{d as we,v as _e,Q as Ue,b as Be}from"./Ripple.c8529b3c.js";import{L as Ve,k as ue,M as Pe,c as _,h as y,g as te,r as w,Q as xe,s as ee,a1 as Ee,u as qe,ag as Re,l as je,o as Ae,ah as De,Z as Ne,ab as $e,U as me,aa as Ie,v as Le,x as Oe,a as Qe,p as Te,ae as Me,H as pe,I as We,J,K as V,ac as O,ai as j,aj as Xe,ak as P,ad as K,al as He}from"./index.9b1cf11e.js";import{s as Ge,u as Ke,a as Ye,t as fe,g as Je,m as Ze,Q as et,p as tt,q as at,o as N}from"./use-quasar.80b6af43.js";import{a as ge,b as be}from"./axios.efdd183c.js";import"./uid.42677368.js";const lt={...Ve,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:a=>a>=0&&a<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},oe=50,Fe=2*oe,Se=Fe*Math.PI,ot=Math.round(Se*1e3)/1e3;var ut=ue({name:"QCircularProgress",props:{...lt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(a,{slots:p}){const{proxy:{$q:e}}=te(),n=Pe(a),i=_(()=>{const r=(e.lang.rtl===!0?-1:1)*a.angle;return{transform:a.reverse!==(e.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-r}deg)`:`rotate3d(0, 0, 1, ${r-90}deg)`}}),c=_(()=>a.instantFeedback!==!0&&a.indeterminate!==!0?{transition:`stroke-dashoffset ${a.animationSpeed}ms ease 0s, stroke ${a.animationSpeed}ms ease`}:""),h=_(()=>Fe/(1-a.thickness/2)),v=_(()=>`${h.value/2} ${h.value/2} ${h.value} ${h.value}`),U=_(()=>Ge(a.value,a.min,a.max)),F=_(()=>a.max-a.min),k=_(()=>a.thickness/2*h.value),z=_(()=>{const r=(a.max-U.value)/F.value,t=a.rounded===!0&&U.value<a.max&&r<.25?k.value/2*(1-r/.25):0;return Se*r+t});function E({thickness:r,offset:t,color:g,cls:B,rounded:f}){return y("circle",{class:"q-circular-progress__"+B+(g!==void 0?` text-${g}`:""),style:c.value,fill:"transparent",stroke:"currentColor","stroke-width":r,"stroke-dasharray":ot,"stroke-dashoffset":t,"stroke-linecap":f,cx:h.value,cy:h.value,r:oe})}return()=>{const r=[];a.centerColor!==void 0&&a.centerColor!=="transparent"&&r.push(y("circle",{class:`q-circular-progress__center text-${a.centerColor}`,fill:"currentColor",r:oe-k.value/2,cx:h.value,cy:h.value})),a.trackColor!==void 0&&a.trackColor!=="transparent"&&r.push(E({cls:"track",thickness:k.value,offset:0,color:a.trackColor})),r.push(E({cls:"circle",thickness:k.value,offset:z.value,color:a.color,rounded:a.rounded===!0?"round":void 0}));const t=[y("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:v.value,"aria-hidden":"true"},r)];return a.showValue===!0&&t.push(y("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:a.fontSize}},p.default!==void 0?p.default():[y("div",U.value)])),y("div",{class:`q-circular-progress q-circular-progress--${a.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.indeterminate===!0?void 0:U.value},we(p.internal,t))}}});function H(a,p,e,n){const i=[];return a.forEach(c=>{n(c)===!0?i.push(c):p.push({failedPropValidation:e,file:c})}),i}function Z(a){a&&a.dataTransfer&&(a.dataTransfer.dropEffect="copy"),ee(a)}const st={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},rt=["rejected"];function nt({editable:a,dnd:p,getFileInput:e,addFilesToQueue:n}){const{props:i,emit:c,proxy:h}=te(),v=w(null),U=_(()=>i.accept!==void 0?i.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),F=_(()=>parseInt(i.maxFiles,10)),k=_(()=>parseInt(i.maxTotalSize,10));function z(s){if(a.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&xe(s);else{const m=e();m&&m!==s.target&&m.click(s)}}function E(s){a.value&&s&&n(null,s)}function r(s,m,d,l){let u=Array.from(m||s.target.files);const S=[],D=()=>{S.length!==0&&c("rejected",S)};if(i.accept!==void 0&&U.value.indexOf("*/")===-1&&(u=H(u,S,"accept",x=>U.value.some(C=>x.type.toUpperCase().startsWith(C)||x.name.toUpperCase().endsWith(C))),u.length===0))return D();if(i.maxFileSize!==void 0){const x=parseInt(i.maxFileSize,10);if(u=H(u,S,"max-file-size",C=>C.size<=x),u.length===0)return D()}if(i.multiple!==!0&&u.length!==0&&(u=[u[0]]),u.forEach(x=>{x.__key=x.webkitRelativePath+x.lastModified+x.name+x.size}),l===!0){const x=d.map(C=>C.__key);u=H(u,S,"duplicate",C=>x.includes(C.__key)===!1)}if(u.length===0)return D();if(i.maxTotalSize!==void 0){let x=l===!0?d.reduce((C,I)=>C+I.size,0):0;if(u=H(u,S,"max-total-size",C=>(x+=C.size,x<=k.value)),u.length===0)return D()}if(typeof i.filter=="function"){const x=i.filter(u);u=H(u,S,"filter",C=>x.includes(C))}if(i.maxFiles!==void 0){let x=l===!0?d.length:0;if(u=H(u,S,"max-files",()=>(x++,x<=F.value)),u.length===0)return D()}if(D(),u.length!==0)return u}function t(s){Z(s),p.value!==!0&&(p.value=!0)}function g(s){ee(s),(s.relatedTarget!==null||Ee.is.safari!==!0?s.relatedTarget!==v.value:document.elementsFromPoint(s.clientX,s.clientY).includes(v.value)===!1)===!0&&(p.value=!1)}function B(s){Z(s);const m=s.dataTransfer.files;m.length!==0&&n(null,m),p.value=!1}function f(s){if(p.value===!0)return y("div",{ref:v,class:`q-${s}__dnd absolute-full`,onDragenter:Z,onDragover:Z,onDragleave:g,onDrop:B})}return Object.assign(h,{pickFiles:z,addFiles:E}),{pickFiles:z,addFiles:E,onDragover:t,onDragleave:g,processFiles:r,getDndNode:f,maxFilesNumber:F,maxTotalSizeNumber:k}}function ye(a){return(a*100).toFixed(2)+"%"}const it={...Ke,...st,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},ke=[...rt,"start","finish","added","removed"];function dt(a,p){const e=te(),{props:n,slots:i,emit:c,proxy:h}=e,{$q:v}=h,U=Ye(n,v);function F(o,q,R){if(o.__status=q,q==="idle"){o.__uploaded=0,o.__progress=0,o.__sizeLabel=fe(o.size),o.__progressLabel="0.00%";return}if(q==="failed"){h.$forceUpdate();return}o.__uploaded=q==="uploaded"?o.size:R,o.__progress=q==="uploaded"?1:Math.min(.9999,o.__uploaded/o.size),o.__progressLabel=ye(o.__progress),h.$forceUpdate()}const k=_(()=>n.disable!==!0&&n.readonly!==!0),z=w(!1),E=w(null),r=w(null),t={files:w([]),queuedFiles:w([]),uploadedFiles:w([]),uploadedSize:w(0),updateFileStatus:F,isAlive:()=>_e(e)===!1},{pickFiles:g,addFiles:B,onDragover:f,onDragleave:s,processFiles:m,getDndNode:d,maxFilesNumber:l,maxTotalSizeNumber:u}=nt({editable:k,dnd:z,getFileInput:ne,addFilesToQueue:ie});Object.assign(t,a({props:n,slots:i,emit:c,helpers:t,exposeApi:o=>{Object.assign(t,o)}})),t.isBusy===void 0&&(t.isBusy=w(!1));const S=w(0),D=_(()=>S.value===0?0:t.uploadedSize.value/S.value),x=_(()=>ye(D.value)),C=_(()=>fe(S.value)),I=_(()=>k.value===!0&&t.isUploading.value!==!0&&(n.multiple===!0||t.queuedFiles.value.length===0)&&(n.maxFiles===void 0||t.files.value.length<l.value)&&(n.maxTotalSize===void 0||S.value<u.value)),b=_(()=>k.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);qe(Re,ce);const T=_(()=>"q-uploader column no-wrap"+(U.value===!0?" q-uploader--dark q-dark":"")+(n.bordered===!0?" q-uploader--bordered":"")+(n.square===!0?" q-uploader--square no-border-radius":"")+(n.flat===!0?" q-uploader--flat no-shadow":"")+(n.disable===!0?" disabled q-uploader--disable":"")+(z.value===!0?" q-uploader--dnd":"")),M=_(()=>"q-uploader__header"+(n.color!==void 0?` bg-${n.color}`:"")+(n.textColor!==void 0?` text-${n.textColor}`:""));je(t.isUploading,(o,q)=>{q===!1&&o===!0?c("start"):q===!0&&o===!1&&c("finish")});function W(){n.disable===!1&&(t.abort(),t.uploadedSize.value=0,S.value=0,re(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function $(){n.disable===!1&&se(["uploaded"],()=>{t.uploadedFiles.value=[]})}function Y(){se(["idle","failed"],({size:o})=>{S.value-=o,t.queuedFiles.value=[]})}function se(o,q){if(n.disable===!0)return;const R={files:[],size:0},L=t.files.value.filter(A=>o.indexOf(A.__status)===-1?!0:(R.size+=A.size,R.files.push(A),A.__img!==void 0&&window.URL.revokeObjectURL(A.__img.src),!1));R.files.length!==0&&(t.files.value=L,q(R),c("removed",R.files))}function ae(o){n.disable||(o.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(q=>q.__key!==o.__key):o.__status==="uploading"?o.__abort():S.value-=o.size,t.files.value=t.files.value.filter(q=>q.__key!==o.__key?!0:(q.__img!==void 0&&window.URL.revokeObjectURL(q.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(q=>q.__key!==o.__key),c("removed",[o]))}function re(){t.files.value.forEach(o=>{o.__img!==void 0&&window.URL.revokeObjectURL(o.__img.src)})}function ne(){return r.value||E.value.getElementsByClassName("q-uploader__input")[0]}function ie(o,q){const R=m(o,q,t.files.value,!0),L=ne();L!=null&&(L.value=""),R!==void 0&&(R.forEach(A=>{if(t.updateFileStatus(A,"idle"),S.value+=A.size,n.noThumbnails!==!0&&A.type.toUpperCase().startsWith("IMAGE")){const ve=new Image;ve.src=window.URL.createObjectURL(A),A.__img=ve}}),t.files.value=t.files.value.concat(R),t.queuedFiles.value=t.queuedFiles.value.concat(R),c("added",R),n.autoUpload===!0&&t.upload())}function de(){b.value===!0&&t.upload()}function G(o,q,R){if(o===!0){const L={type:"a",key:q,icon:v.iconSet.uploader[q],flat:!0,dense:!0};let A;return q==="add"?(L.onClick=g,A=ce):L.onClick=R,y(le,L,A)}}function ce(){return y("input",{ref:r,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:n.accept,multiple:n.multiple===!0?"multiple":void 0,capture:n.capture,onMousedown:xe,onClick:g,onChange:ie})}function Ce(){return i.header!==void 0?i.header(X):[y("div",{class:"q-uploader__header-content column"},[y("div",{class:"flex flex-center no-wrap q-gutter-xs"},[G(t.queuedFiles.value.length!==0,"removeQueue",Y),G(t.uploadedFiles.value.length!==0,"removeUploaded",$),t.isUploading.value===!0?y(me,{class:"q-uploader__spinner"}):null,y("div",{class:"col column justify-center"},[n.label!==void 0?y("div",{class:"q-uploader__title"},[n.label]):null,y("div",{class:"q-uploader__subtitle"},[C.value+" / "+x.value])]),G(I.value,"add"),G(n.hideUploadBtn===!1&&b.value===!0,"upload",t.upload),G(t.isUploading.value,"clear",t.abort)])])]}function ze(){return i.list!==void 0?i.list(X):t.files.value.map(o=>y("div",{key:o.__key,class:"q-uploader__file relative-position"+(n.noThumbnails!==!0&&o.__img!==void 0?" q-uploader__file--img":"")+(o.__status==="failed"?" q-uploader__file--failed":o.__status==="uploaded"?" q-uploader__file--uploaded":""),style:n.noThumbnails!==!0&&o.__img!==void 0?{backgroundImage:'url("'+o.__img.src+'")'}:null},[y("div",{class:"q-uploader__file-header row flex-center no-wrap"},[o.__status==="failed"?y(Ue,{class:"q-uploader__file-status",name:v.iconSet.type.negative,color:"negative"}):null,y("div",{class:"q-uploader__file-header-content col"},[y("div",{class:"q-uploader__title"},[o.name]),y("div",{class:"q-uploader__subtitle row items-center no-wrap"},[o.__sizeLabel+" / "+o.__progressLabel])]),o.__status==="uploading"?y(ut,{value:o.__progress,min:0,max:1,indeterminate:o.__progress===0}):y(le,{round:!0,dense:!0,flat:!0,icon:v.iconSet.uploader[o.__status==="uploaded"?"done":"clear"],onClick:()=>{ae(o)}})])]))}Ae(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&re()});const X={};for(const o in t)De(t[o])===!0?Ne(X,o,()=>t[o].value):X[o]=t[o];return Object.assign(X,{upload:de,reset:W,removeUploadedFiles:$,removeQueuedFiles:Y,removeFile:ae,pickFiles:g,addFiles:B}),$e(X,{canAddFiles:()=>I.value,canUpload:()=>b.value,uploadSizeLabel:()=>C.value,uploadProgressLabel:()=>x.value}),p({...t,upload:de,reset:W,removeUploadedFiles:$,removeQueuedFiles:Y,removeFile:ae,pickFiles:g,addFiles:B,canAddFiles:I,canUpload:b,uploadSizeLabel:C,uploadProgressLabel:x}),()=>{const o=[y("div",{class:M.value},Ce()),y("div",{class:"q-uploader__list scroll"},ze()),d("uploader")];t.isBusy.value===!0&&o.push(y("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[y(me)]));const q={ref:E,class:T.value};return I.value===!0&&Object.assign(q,{onDragover:f,onDragleave:s}),y("div",q,o)}}const ct=()=>!0;function vt(a){const p={};return a.forEach(e=>{p[e]=ct}),p}const mt=vt(ke);var pt=({name:a,props:p,emits:e,injectPlugin:n})=>ue({name:a,props:{...it,...p},emits:Ie(e)===!0?{...mt,...e}:[...ke,...e],setup(i,{expose:c}){return dt(n,c)}});function Q(a){return typeof a=="function"?a:()=>a}const ft={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>a=>a.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},gt=["factoryFailed","uploaded","failed","uploading"];function bt({props:a,emit:p,helpers:e}){const n=w([]),i=w([]),c=w(0),h=_(()=>({url:Q(a.url),method:Q(a.method),headers:Q(a.headers),formFields:Q(a.formFields),fieldName:Q(a.fieldName),withCredentials:Q(a.withCredentials),sendRaw:Q(a.sendRaw),batch:Q(a.batch)})),v=_(()=>c.value>0),U=_(()=>i.value.length!==0);let F;function k(){n.value.forEach(t=>{t.abort()}),i.value.length!==0&&(F=!0)}function z(){const t=e.queuedFiles.value.slice(0);e.queuedFiles.value=[],h.value.batch(t)?E(t):t.forEach(g=>{E([g])})}function E(t){if(c.value++,typeof a.factory!="function"){r(t,{});return}const g=a.factory(t);if(!g)p("factoryFailed",new Error("QUploader: factory() does not return properly"),t),c.value--;else if(typeof g.catch=="function"&&typeof g.then=="function"){i.value.push(g);const B=f=>{e.isAlive()===!0&&(i.value=i.value.filter(s=>s!==g),i.value.length===0&&(F=!1),e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(s=>{e.updateFileStatus(s,"failed")}),p("factoryFailed",f,t),c.value--)};g.then(f=>{F===!0?B(new Error("Aborted")):e.isAlive()===!0&&(i.value=i.value.filter(s=>s!==g),r(t,f))}).catch(B)}else r(t,g||{})}function r(t,g){const B=new FormData,f=new XMLHttpRequest,s=(b,T)=>g[b]!==void 0?Q(g[b])(T):h.value[b](T),m=s("url",t);if(!m){console.error("q-uploader: invalid or no URL specified"),c.value--;return}const d=s("formFields",t);d!==void 0&&d.forEach(b=>{B.append(b.name,b.value)});let l=0,u=0,S=0,D=0,x;f.upload.addEventListener("progress",b=>{if(x===!0)return;const T=Math.min(D,b.loaded);e.uploadedSize.value+=T-S,S=T;let M=S-u;for(let W=l;M>0&&W<t.length;W++){const $=t[W];if(M>$.size)M-=$.size,l++,u+=$.size,e.updateFileStatus($,"uploading",$.size);else{e.updateFileStatus($,"uploading",M);return}}},!1),f.onreadystatechange=()=>{f.readyState<4||(f.status&&f.status<400?(e.uploadedFiles.value=e.uploadedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"uploaded")}),p("uploaded",{files:t,xhr:f})):(x=!0,e.uploadedSize.value-=S,e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"failed")}),p("failed",{files:t,xhr:f})),c.value--,n.value=n.value.filter(b=>b!==f))},f.open(s("method",t),m),s("withCredentials",t)===!0&&(f.withCredentials=!0);const C=s("headers",t);C!==void 0&&C.forEach(b=>{f.setRequestHeader(b.name,b.value)});const I=s("sendRaw",t);t.forEach(b=>{e.updateFileStatus(b,"uploading",0),I!==!0&&B.append(s("fieldName",b),b,b.name),b.xhr=f,b.__abort=()=>{f.abort()},D+=b.size}),p("uploading",{files:t,xhr:f}),n.value.push(f),I===!0?f.send(new Blob(t)):f.send(B)}return{isUploading:v,isBusy:U,abort:k,upload:z}}var yt={name:"QUploader",props:ft,emits:gt,injectPlugin:bt},he=pt(yt),ht=ue({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(a,{slots:p,emit:e}){const n=te(),i=w(null);let c=0;const h=[];function v(r){const t=typeof r=="boolean"?r:a.noErrorFocus!==!0,g=++c,B=(m,d)=>{e("validation"+(m===!0?"Success":"Error"),d)},f=m=>{const d=m.validate();return typeof d.then=="function"?d.then(l=>({valid:l,comp:m}),l=>({valid:!1,comp:m,err:l})):Promise.resolve({valid:d,comp:m})};return(a.greedy===!0?Promise.all(h.map(f)).then(m=>m.filter(d=>d.valid!==!0)):h.reduce((m,d)=>m.then(()=>f(d).then(l=>{if(l.valid===!1)return Promise.reject(l)})),Promise.resolve()).catch(m=>[m])).then(m=>{if(m===void 0||m.length===0)return g===c&&B(!0),!0;if(g===c){const{comp:d,err:l}=m[0];if(l!==void 0&&console.error(l),B(!1,d),t===!0){const u=m.find(({comp:S})=>typeof S.focus=="function"&&_e(S.$)===!1);u!==void 0&&u.comp.focus()}}return!1})}function U(){c++,h.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function F(r){r!==void 0&&ee(r);const t=c+1;v().then(g=>{t===c&&g===!0&&(a.onSubmit!==void 0?e("submit",r):r!==void 0&&r.target!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function k(r){r!==void 0&&ee(r),e("reset"),Te(()=>{U(),a.autofocus===!0&&a.noResetFocus!==!0&&z()})}function z(){Je(()=>{if(i.value===null)return;const r=i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),t=>t.tabIndex>-1);r!=null&&r.focus({preventScroll:!0})})}qe(Me,{bindComponent(r){h.push(r)},unbindComponent(r){const t=h.indexOf(r);t>-1&&h.splice(t,1)}});let E=!1;return Le(()=>{E=!0}),Oe(()=>{E===!0&&a.autofocus===!0&&z()}),Qe(()=>{a.autofocus===!0&&z()}),Object.assign(n.proxy,{validate:v,resetValidation:U,submit:F,reset:k,focus:z,getValidationComponents:()=>h}),()=>y("form",{class:"q-form",ref:i,onSubmit:F,onReset:k},Be(p.default))}});const _t={class:"row"},xt={class:"col flex justify-center"},qt={class:"col flex justify-center"},Ft={key:0,class:"col flex justify-center"},St={class:"flex justify-center"},Vt={__name:"formPage",setup(a){const p=Ze(),e=w({picture:null,provider:null,code:"",description:"",yuanes:0,pxc:0,qubic:0,taxes:0,freight:0,tpcusd:0,tpcrmb:0,mcont:68}),n=w([]);w([]);const i=w(null),c=w(null),h=_(()=>e.value.code.length>0&&e.value.description.length>0),v=_(()=>p.platform.is.mobile),U=_(()=>p.platform.is.mobile?"width: 90%; height:270px":"width: 350px; height:285px"),F=_(()=>p.platform.is.mobile?"width: 370px;":"width: 90%;"),k=_(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?((parseFloat(e.value.taxes)+parseFloat(e.value.freight))/(e.value.mcont/e.value.qubic*e.value.pxc)+e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(6):0),z=_(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?(e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(6):0),E=()=>{e.value.picture=""},r=d=>{e.value.provider=d[0].name},t=d=>{console.log(d);const l=new FormData;return l.append("files",d[0]),l.append("__key",e.value.code+".jpg"),console.log(l),be.post("http://mx100-cedis-mkrqpwcczk.dynamic-m.com:5150/appchin/public/api/addFile",l).then(u=>{console.log("Archivos subidos exitosamente:",u.data),i.value.reset()}).catch(u=>{console.error("Error al subir archivos:",u)}),"http://mx100-cedis-mkrqpwcczk.dynamic-m.com:5150/appchin/public/api/addFile"},g=d=>{console.log(d);const l=new FormData;return l.append("files",d[0]),l.append("__key",e.value.provider),console.log(l),be.post("http://mx100-cedis-mkrqpwcczk.dynamic-m.com:5150/appchin/public/api/addFile",l).then(u=>{console.log("Archivos subidos exitosamente:",u.data),c.value.reset()}).catch(u=>{console.error("Error al subir archivos:",u)}),"http://mx100-cedis-mkrqpwcczk.dynamic-m.com:5150/appchin/public/api/addFile"},B=()=>{i.value.upload()},f=()=>{c.value.upload()},s=async()=>{p.loading.show({message:"Cargando Formulario"}),console.log("Obteniendo Articulos"),ge.get("/getProducts").then(d=>{console.log(d.data),n.value=d.data.products,e.value.taxes=d.data.expenses.find(l=>l.id===1)._value,e.value.freight=d.data.expenses.find(l=>l.id===2)._value,e.value.tpcusd=d.data.expenses.find(l=>l.id===3)._value,e.value.tpcrmb=d.data.expenses.find(l=>l.id===4)._value,p.loading.hide()}).catch(d=>{console.error(d)})},m=async()=>{let d={code:e.value.code,picture:e.value.picture!=null?"/"+e.value.code+".jpg":null,description:e.value.description,provider:e.value.provider!=null?"/"+e.value.provider:null,chinesse_cost:z.value,taxes:e.value.taxes,freight:e.value.freight,measures:e.value.qubic,mexican_cost:k.value,pieces:e.value.pxc};console.log(d),ge.post("/insProduct",d).then(l=>{console.log(l.data),B(),f(),e.value.code="",e.value.description="",e.value.provider=null,e.value.yuanes=0,e.value.pxc=0,e.value.qubic=0}).catch(l=>{console.error(l)})};return s(),(d,l)=>(pe(),We(et,{padding:""},{default:J(()=>[V(ht,{class:"q-gutter-md"},{default:J(()=>[O("div",_t,[O("div",xt,[V(he,{"hide-upload-btn":!0,ref_key:"uploaderRef",ref:i,url:t,color:"primary",style:j(U.value),label:"Imagen Articulo",onAdded:E},null,8,["style"])]),O("div",qt,[V(he,{"hide-upload-btn":!0,ref_key:"uploaderRefprov",ref:c,url:g,color:"primary",style:j(U.value),label:"Imagen Proveedor",onAdded:r},null,8,["style"])]),v.value?He("",!0):(pe(),Xe("div",Ft,[V(tt,{class:"my-card",style:j(U.value)},{default:J(()=>[V(at,null,{default:J(()=>[O("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Codigo : "+K(e.value.code.toUpperCase()),3),O("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Descripcion : "+K(e.value.description.toUpperCase()),3),O("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Chino : $ "+K(z.value),3),O("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Mexicano : $ "+K(k.value),3),O("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Gato X articulo: $ "+K(k.value-z.value),3)]),_:1})]),_:1},8,["style"])]))]),O("div",St,[V(N,{filled:"",modelValue:e.value.code,"onUpdate:modelValue":l[0]||(l[0]=u=>e.value.code=u),type:"text",label:"Codigo",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.description,"onUpdate:modelValue":l[1]||(l[1]=u=>e.value.description=u),type:"text",label:"Descripcion",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.yuanes,"onUpdate:modelValue":l[2]||(l[2]=u=>e.value.yuanes=u),type:"number",label:"Yuanes 	\xA5",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.pxc,"onUpdate:modelValue":l[3]||(l[3]=u=>e.value.pxc=u),type:"number",label:"Piezas Por Caja",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.qubic,"onUpdate:modelValue":l[4]||(l[4]=u=>e.value.qubic=u),type:"number",label:"Cubicaje",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.taxes,"onUpdate:modelValue":l[5]||(l[5]=u=>e.value.taxes=u),type:"number",label:"Impuestos",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.freight,"onUpdate:modelValue":l[6]||(l[6]=u=>e.value.freight=u),type:"number",label:"Flete",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.tpcusd,"onUpdate:modelValue":l[7]||(l[7]=u=>e.value.tpcusd=u),type:"number",label:"Tipo Cambio USD",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:e.value.tpcrmb,"onUpdate:modelValue":l[8]||(l[8]=u=>e.value.tpcrmb=u),type:"number",label:"Tipo Cambio RMB",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:k.value,"onUpdate:modelValue":l[9]||(l[9]=u=>k.value=u),type:"number",label:"Costo Mexicano $",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md"),disable:!0},null,8,["modelValue","style","class"]),V(N,{filled:"",modelValue:z.value,"onUpdate:modelValue":l[10]||(l[10]=u=>z.value=u),type:"number",label:"Costo Chino MXM",style:j(F.value),class:P(v.value?"q-mt-xs":"q-mt-md"),disable:!0},null,8,["modelValue","style","class"]),V(le,{style:j(F.value),color:"primary",icon:"list",label:"Enviar Formulario",onClick:m,class:P(v.value?"q-mt-xs":"q-mt-md"),disable:!h.value},null,8,["style","class","disable"])])]),_:1})]),_:1}))}};export{Vt as default};
