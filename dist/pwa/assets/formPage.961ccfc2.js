import{o as Pe,u as Be,a as Ve,p as fe,q as Ee,i as je,j as Re,l as ge,m as Z,g as oe,k as I,Q as Oe}from"./use-quasar.fd346a22.js";import{W as Ne,l as ne,X as $e,c as h,h as y,ar as Ae,j as ae,r as U,aq as qe,s as te,a6 as Ie,S as Fe,y as Se,aB as De,n as Le,o as Te,aC as Qe,a3 as Me,a2 as Xe,U as be,Q as We,a4 as ue,a1 as He,z as Ge,A as Ye,a as Ke,B as Je,v as Ze,am as et,M as _e,N as tt,O as M,P as S,af as j,ai as T,aD as O,aj as at,aE as P,aF as lt}from"./index.5653b5d8.js";import{api as xe}from"./axios.8cdf38b5.js";import"./rtl.0e494107.js";const ot={...Ne,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:l=>l>=0&&l<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},se=50,Ce=2*se,ke=Ce*Math.PI,ut=Math.round(ke*1e3)/1e3;var st=ne({name:"QCircularProgress",props:{...ot,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(l,{slots:c}){const{proxy:{$q:e}}=ae(),i=$e(l),d=h(()=>{const r=(e.lang.rtl===!0?-1:1)*l.angle;return{transform:l.reverse!==(e.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-r}deg)`:`rotate3d(0, 0, 1, ${r-90}deg)`}}),p=h(()=>l.instantFeedback!==!0&&l.indeterminate!==!0?{transition:`stroke-dashoffset ${l.animationSpeed}ms ease 0s, stroke ${l.animationSpeed}ms ease`}:""),_=h(()=>Ce/(1-l.thickness/2)),V=h(()=>`${_.value/2} ${_.value/2} ${_.value} ${_.value}`),v=h(()=>Pe(l.value,l.min,l.max)),E=h(()=>l.max-l.min),x=h(()=>l.thickness/2*_.value),w=h(()=>{const r=(l.max-v.value)/E.value,t=l.rounded===!0&&v.value<l.max&&r<.25?x.value/2*(1-r/.25):0;return ke*r+t});function z({thickness:r,offset:t,color:g,cls:B,rounded:f}){return y("circle",{class:"q-circular-progress__"+B+(g!==void 0?` text-${g}`:""),style:p.value,fill:"transparent",stroke:"currentColor","stroke-width":r,"stroke-dasharray":ut,"stroke-dashoffset":t,"stroke-linecap":f,cx:_.value,cy:_.value,r:se})}return()=>{const r=[];l.centerColor!==void 0&&l.centerColor!=="transparent"&&r.push(y("circle",{class:`q-circular-progress__center text-${l.centerColor}`,fill:"currentColor",r:se-x.value/2,cx:_.value,cy:_.value})),l.trackColor!==void 0&&l.trackColor!=="transparent"&&r.push(z({cls:"track",thickness:x.value,offset:0,color:l.trackColor})),r.push(z({cls:"circle",thickness:x.value,offset:w.value,color:l.color,rounded:l.rounded===!0?"round":void 0}));const t=[y("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:V.value,"aria-hidden":"true"},r)];return l.showValue===!0&&t.push(y("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:l.fontSize}},c.default!==void 0?c.default():[y("div",v.value)])),y("div",{class:`q-circular-progress q-circular-progress--${l.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":l.min,"aria-valuemax":l.max,"aria-valuenow":l.indeterminate===!0?void 0:v.value},Ae(c.internal,t))}}});function Y(l,c,e,i){const d=[];return l.forEach(p=>{i(p)===!0?d.push(p):c.push({failedPropValidation:e,file:p})}),d}function ee(l){l&&l.dataTransfer&&(l.dataTransfer.dropEffect="copy"),te(l)}const nt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},rt=["rejected"];function it({editable:l,dnd:c,getFileInput:e,addFilesToQueue:i}){const{props:d,emit:p,proxy:_}=ae(),V=U(null),v=h(()=>d.accept!==void 0?d.accept.split(",").map(n=>(n=n.trim(),n==="*"?"*/":(n.endsWith("/*")&&(n=n.slice(0,n.length-1)),n.toUpperCase()))):null),E=h(()=>parseInt(d.maxFiles,10)),x=h(()=>parseInt(d.maxTotalSize,10));function w(n){if(l.value)if(n!==Object(n)&&(n={target:null}),n.target!==null&&n.target.matches('input[type="file"]')===!0)n.clientX===0&&n.clientY===0&&qe(n);else{const m=e();m&&m!==n.target&&m.click(n)}}function z(n){l.value&&n&&i(null,n)}function r(n,m,C,o){let a=Array.from(m||n.target.files);const s=[],$=()=>{s.length!==0&&p("rejected",s)};if(d.accept!==void 0&&v.value.indexOf("*/")===-1&&(a=Y(a,s,"accept",q=>v.value.some(k=>q.type.toUpperCase().startsWith(k)||q.name.toUpperCase().endsWith(k))),a.length===0))return $();if(d.maxFileSize!==void 0){const q=parseInt(d.maxFileSize,10);if(a=Y(a,s,"max-file-size",k=>k.size<=q),a.length===0)return $()}if(d.multiple!==!0&&a.length!==0&&(a=[a[0]]),a.forEach(q=>{q.__key=q.webkitRelativePath+q.lastModified+q.name+q.size}),o===!0){const q=C.map(k=>k.__key);a=Y(a,s,"duplicate",k=>q.includes(k.__key)===!1)}if(a.length===0)return $();if(d.maxTotalSize!==void 0){let q=o===!0?C.reduce((k,D)=>k+D.size,0):0;if(a=Y(a,s,"max-total-size",k=>(q+=k.size,q<=x.value)),a.length===0)return $()}if(typeof d.filter=="function"){const q=d.filter(a);a=Y(a,s,"filter",k=>q.includes(k))}if(d.maxFiles!==void 0){let q=o===!0?C.length:0;if(a=Y(a,s,"max-files",()=>(q++,q<=E.value)),a.length===0)return $()}if($(),a.length!==0)return a}function t(n){ee(n),c.value!==!0&&(c.value=!0)}function g(n){te(n),(n.relatedTarget!==null||Ie.is.safari!==!0?n.relatedTarget!==V.value:document.elementsFromPoint(n.clientX,n.clientY).includes(V.value)===!1)===!0&&(c.value=!1)}function B(n){ee(n);const m=n.dataTransfer.files;m.length!==0&&i(null,m),c.value=!1}function f(n){if(c.value===!0)return y("div",{ref:V,class:`q-${n}__dnd absolute-full`,onDragenter:ee,onDragover:ee,onDragleave:g,onDrop:B})}return Object.assign(_,{pickFiles:w,addFiles:z}),{pickFiles:w,addFiles:z,onDragover:t,onDragleave:g,processFiles:r,getDndNode:f,maxFilesNumber:E,maxTotalSizeNumber:x}}function ye(l){return(l*100).toFixed(2)+"%"}const dt={...Be,...nt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},we=[...rt,"start","finish","added","removed"];function ct(l,c){const e=ae(),{props:i,slots:d,emit:p,proxy:_}=e,{$q:V}=_,v=Ve(i,V);function E(u,F,R){if(u.__status=F,F==="idle"){u.__uploaded=0,u.__progress=0,u.__sizeLabel=fe(u.size),u.__progressLabel="0.00%";return}if(F==="failed"){_.$forceUpdate();return}u.__uploaded=F==="uploaded"?u.size:R,u.__progress=F==="uploaded"?1:Math.min(.9999,u.__uploaded/u.size),u.__progressLabel=ye(u.__progress),_.$forceUpdate()}const x=h(()=>i.disable!==!0&&i.readonly!==!0),w=U(!1),z=U(null),r=U(null),t={files:U([]),queuedFiles:U([]),uploadedFiles:U([]),uploadedSize:U(0),updateFileStatus:E,isAlive:()=>Fe(e)===!1},{pickFiles:g,addFiles:B,onDragover:f,onDragleave:n,processFiles:m,getDndNode:C,maxFilesNumber:o,maxTotalSizeNumber:a}=it({editable:x,dnd:w,getFileInput:de,addFilesToQueue:ce});Object.assign(t,l({props:i,slots:d,emit:p,helpers:t,exposeApi:u=>{Object.assign(t,u)}})),t.isBusy===void 0&&(t.isBusy=U(!1));const s=U(0),$=h(()=>s.value===0?0:t.uploadedSize.value/s.value),q=h(()=>ye($.value)),k=h(()=>fe(s.value)),D=h(()=>x.value===!0&&t.isUploading.value!==!0&&(i.multiple===!0||t.queuedFiles.value.length===0)&&(i.maxFiles===void 0||t.files.value.length<o.value)&&(i.maxTotalSize===void 0||s.value<a.value)),b=h(()=>x.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);Se(De,me);const X=h(()=>"q-uploader column no-wrap"+(v.value===!0?" q-uploader--dark q-dark":"")+(i.bordered===!0?" q-uploader--bordered":"")+(i.square===!0?" q-uploader--square no-border-radius":"")+(i.flat===!0?" q-uploader--flat no-shadow":"")+(i.disable===!0?" disabled q-uploader--disable":"")+(w.value===!0?" q-uploader--dnd":"")),W=h(()=>"q-uploader__header"+(i.color!==void 0?` bg-${i.color}`:"")+(i.textColor!==void 0?` text-${i.textColor}`:""));Le(t.isUploading,(u,F)=>{F===!1&&u===!0?p("start"):F===!0&&u===!1&&p("finish")});function H(){i.disable===!1&&(t.abort(),t.uploadedSize.value=0,s.value=0,ie(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function A(){i.disable===!1&&re(["uploaded"],()=>{t.uploadedFiles.value=[]})}function J(){re(["idle","failed"],({size:u})=>{s.value-=u,t.queuedFiles.value=[]})}function re(u,F){if(i.disable===!0)return;const R={files:[],size:0},L=t.files.value.filter(N=>u.indexOf(N.__status)===-1?!0:(R.size+=N.size,R.files.push(N),N.__img!==void 0&&window.URL.revokeObjectURL(N.__img.src),!1));R.files.length!==0&&(t.files.value=L,F(R),p("removed",R.files))}function le(u){i.disable||(u.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(F=>F.__key!==u.__key):u.__status==="uploading"?u.__abort():s.value-=u.size,t.files.value=t.files.value.filter(F=>F.__key!==u.__key?!0:(F.__img!==void 0&&window.URL.revokeObjectURL(F.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(F=>F.__key!==u.__key),p("removed",[u]))}function ie(){t.files.value.forEach(u=>{u.__img!==void 0&&window.URL.revokeObjectURL(u.__img.src)})}function de(){return r.value||z.value.getElementsByClassName("q-uploader__input")[0]}function ce(u,F){const R=m(u,F,t.files.value,!0),L=de();L!=null&&(L.value=""),R!==void 0&&(R.forEach(N=>{if(t.updateFileStatus(N,"idle"),s.value+=N.size,i.noThumbnails!==!0&&N.type.toUpperCase().startsWith("IMAGE")){const pe=new Image;pe.src=window.URL.createObjectURL(N),N.__img=pe}}),t.files.value=t.files.value.concat(R),t.queuedFiles.value=t.queuedFiles.value.concat(R),p("added",R),i.autoUpload===!0&&t.upload())}function ve(){b.value===!0&&t.upload()}function K(u,F,R){if(u===!0){const L={type:"a",key:F,icon:V.iconSet.uploader[F],flat:!0,dense:!0};let N;return F==="add"?(L.onClick=g,N=me):L.onClick=R,y(ue,L,N)}}function me(){return y("input",{ref:r,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:i.accept,multiple:i.multiple===!0?"multiple":void 0,capture:i.capture,onMousedown:qe,onClick:g,onChange:ce})}function ze(){return d.header!==void 0?d.header(G):[y("div",{class:"q-uploader__header-content column"},[y("div",{class:"flex flex-center no-wrap q-gutter-xs"},[K(t.queuedFiles.value.length!==0,"removeQueue",J),K(t.uploadedFiles.value.length!==0,"removeUploaded",A),t.isUploading.value===!0?y(be,{class:"q-uploader__spinner"}):null,y("div",{class:"col column justify-center"},[i.label!==void 0?y("div",{class:"q-uploader__title"},[i.label]):null,y("div",{class:"q-uploader__subtitle"},[k.value+" / "+q.value])]),K(D.value,"add"),K(i.hideUploadBtn===!1&&b.value===!0,"upload",t.upload),K(t.isUploading.value,"clear",t.abort)])])]}function Ue(){return d.list!==void 0?d.list(G):t.files.value.map(u=>y("div",{key:u.__key,class:"q-uploader__file relative-position"+(i.noThumbnails!==!0&&u.__img!==void 0?" q-uploader__file--img":"")+(u.__status==="failed"?" q-uploader__file--failed":u.__status==="uploaded"?" q-uploader__file--uploaded":""),style:i.noThumbnails!==!0&&u.__img!==void 0?{backgroundImage:'url("'+u.__img.src+'")'}:null},[y("div",{class:"q-uploader__file-header row flex-center no-wrap"},[u.__status==="failed"?y(We,{class:"q-uploader__file-status",name:V.iconSet.type.negative,color:"negative"}):null,y("div",{class:"q-uploader__file-header-content col"},[y("div",{class:"q-uploader__title"},[u.name]),y("div",{class:"q-uploader__subtitle row items-center no-wrap"},[u.__sizeLabel+" / "+u.__progressLabel])]),u.__status==="uploading"?y(st,{value:u.__progress,min:0,max:1,indeterminate:u.__progress===0}):y(ue,{round:!0,dense:!0,flat:!0,icon:V.iconSet.uploader[u.__status==="uploaded"?"done":"clear"],onClick:()=>{le(u)}})])]))}Te(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&ie()});const G={};for(const u in t)Qe(t[u])===!0?Me(G,u,()=>t[u].value):G[u]=t[u];return Object.assign(G,{upload:ve,reset:H,removeUploadedFiles:A,removeQueuedFiles:J,removeFile:le,pickFiles:g,addFiles:B}),Xe(G,{canAddFiles:()=>D.value,canUpload:()=>b.value,uploadSizeLabel:()=>k.value,uploadProgressLabel:()=>q.value}),c({...t,upload:ve,reset:H,removeUploadedFiles:A,removeQueuedFiles:J,removeFile:le,pickFiles:g,addFiles:B,canAddFiles:D,canUpload:b,uploadSizeLabel:k,uploadProgressLabel:q}),()=>{const u=[y("div",{class:W.value},ze()),y("div",{class:"q-uploader__list scroll"},Ue()),C("uploader")];t.isBusy.value===!0&&u.push(y("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[y(be)]));const F={ref:z,class:X.value};return D.value===!0&&Object.assign(F,{onDragover:f,onDragleave:n}),y("div",F,u)}}const vt=()=>!0;function mt(l){const c={};return l.forEach(e=>{c[e]=vt}),c}const pt=mt(we);var ft=({name:l,props:c,emits:e,injectPlugin:i})=>ne({name:l,props:{...dt,...c},emits:He(e)===!0?{...pt,...e}:[...we,...e],setup(d,{expose:p}){return ct(i,p)}});function Q(l){return typeof l=="function"?l:()=>l}const gt={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>l=>l.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},bt=["factoryFailed","uploaded","failed","uploading"];function _t({props:l,emit:c,helpers:e}){const i=U([]),d=U([]),p=U(0),_=h(()=>({url:Q(l.url),method:Q(l.method),headers:Q(l.headers),formFields:Q(l.formFields),fieldName:Q(l.fieldName),withCredentials:Q(l.withCredentials),sendRaw:Q(l.sendRaw),batch:Q(l.batch)})),V=h(()=>p.value>0),v=h(()=>d.value.length!==0);let E;function x(){i.value.forEach(t=>{t.abort()}),d.value.length!==0&&(E=!0)}function w(){const t=e.queuedFiles.value.slice(0);e.queuedFiles.value=[],_.value.batch(t)?z(t):t.forEach(g=>{z([g])})}function z(t){if(p.value++,typeof l.factory!="function"){r(t,{});return}const g=l.factory(t);if(!g)c("factoryFailed",new Error("QUploader: factory() does not return properly"),t),p.value--;else if(typeof g.catch=="function"&&typeof g.then=="function"){d.value.push(g);const B=f=>{e.isAlive()===!0&&(d.value=d.value.filter(n=>n!==g),d.value.length===0&&(E=!1),e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(n=>{e.updateFileStatus(n,"failed")}),c("factoryFailed",f,t),p.value--)};g.then(f=>{E===!0?B(new Error("Aborted")):e.isAlive()===!0&&(d.value=d.value.filter(n=>n!==g),r(t,f))}).catch(B)}else r(t,g||{})}function r(t,g){const B=new FormData,f=new XMLHttpRequest,n=(b,X)=>g[b]!==void 0?Q(g[b])(X):_.value[b](X),m=n("url",t);if(!m){console.error("q-uploader: invalid or no URL specified"),p.value--;return}const C=n("formFields",t);C!==void 0&&C.forEach(b=>{B.append(b.name,b.value)});let o=0,a=0,s=0,$=0,q;f.upload.addEventListener("progress",b=>{if(q===!0)return;const X=Math.min($,b.loaded);e.uploadedSize.value+=X-s,s=X;let W=s-a;for(let H=o;W>0&&H<t.length;H++){const A=t[H];if(W>A.size)W-=A.size,o++,a+=A.size,e.updateFileStatus(A,"uploading",A.size);else{e.updateFileStatus(A,"uploading",W);return}}},!1),f.onreadystatechange=()=>{f.readyState<4||(f.status&&f.status<400?(e.uploadedFiles.value=e.uploadedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"uploaded")}),c("uploaded",{files:t,xhr:f})):(q=!0,e.uploadedSize.value-=s,e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"failed")}),c("failed",{files:t,xhr:f})),p.value--,i.value=i.value.filter(b=>b!==f))},f.open(n("method",t),m),n("withCredentials",t)===!0&&(f.withCredentials=!0);const k=n("headers",t);k!==void 0&&k.forEach(b=>{f.setRequestHeader(b.name,b.value)});const D=n("sendRaw",t);t.forEach(b=>{e.updateFileStatus(b,"uploading",0),D!==!0&&B.append(n("fieldName",b),b,b.name),b.xhr=f,b.__abort=()=>{f.abort()},$+=b.size}),c("uploading",{files:t,xhr:f}),i.value.push(f),D===!0?f.send(new Blob(t)):f.send(B)}return{isUploading:V,isBusy:v,abort:x,upload:w}}var xt={name:"QUploader",props:gt,emits:bt,injectPlugin:_t},he=ft(xt),yt=ne({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(l,{slots:c,emit:e}){const i=ae(),d=U(null);let p=0;const _=[];function V(r){const t=typeof r=="boolean"?r:l.noErrorFocus!==!0,g=++p,B=(m,C)=>{e("validation"+(m===!0?"Success":"Error"),C)},f=m=>{const C=m.validate();return typeof C.then=="function"?C.then(o=>({valid:o,comp:m}),o=>({valid:!1,comp:m,err:o})):Promise.resolve({valid:C,comp:m})};return(l.greedy===!0?Promise.all(_.map(f)).then(m=>m.filter(C=>C.valid!==!0)):_.reduce((m,C)=>m.then(()=>f(C).then(o=>{if(o.valid===!1)return Promise.reject(o)})),Promise.resolve()).catch(m=>[m])).then(m=>{if(m===void 0||m.length===0)return g===p&&B(!0),!0;if(g===p){const{comp:C,err:o}=m[0];if(o!==void 0&&console.error(o),B(!1,C),t===!0){const a=m.find(({comp:s})=>typeof s.focus=="function"&&Fe(s.$)===!1);a!==void 0&&a.comp.focus()}}return!1})}function v(){p++,_.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function E(r){r!==void 0&&te(r);const t=p+1;V().then(g=>{t===p&&g===!0&&(l.onSubmit!==void 0?e("submit",r):r!==void 0&&r.target!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function x(r){r!==void 0&&te(r),e("reset"),Ze(()=>{v(),l.autofocus===!0&&l.noResetFocus!==!0&&w()})}function w(){Ee(()=>{if(d.value===null)return;const r=d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),t=>t.tabIndex>-1);r!=null&&r.focus({preventScroll:!0})})}Se(et,{bindComponent(r){_.push(r)},unbindComponent(r){const t=_.indexOf(r);t>-1&&_.splice(t,1)}});let z=!1;return Ge(()=>{z=!0}),Ye(()=>{z===!0&&l.autofocus===!0&&w()}),Ke(()=>{l.autofocus===!0&&w()}),Object.assign(i.proxy,{validate:V,resetValidation:v,submit:E,reset:x,focus:w,getValidationComponents:()=>_}),()=>y("form",{class:"q-form",ref:d,onSubmit:E,onReset:x},Je(c.default))}});const ht=j("div",{class:"text-grey-7 text-center text-overline"},"COSTO CHINO MXM",-1),qt={class:"text-center text-bold text-italic"},Ft=j("div",{class:"text-grey-7 text-center text-overline"},"COSTO MEXICANO",-1),St={class:"text-center text-bold text-italic"},Ct=j("div",{class:"text-grey-7 text-center text-overline"},"IMPUESTO",-1),kt={class:"text-center text-bold text-italic"},wt={class:"col flex justify-center"},zt={class:"col flex justify-center"},Ut={key:0,class:"col flex justify-center"},Pt={class:"flex justify-center"},Rt={__name:"formPage",setup(l){const c=je(),e=U({code:"",description:"",yuanes:0,pxc:0,qubic:0,taxes:0,freight:0,tpcusd:0,tpcrmb:0,mcont:68,notes:"",img_provider:[],img_product:[]}),i=U([]),d=U([]),p=U(null),_=U(null);U(null);const V=h(()=>e.value.code.length>0&&e.value.description.length>0),v=h(()=>c.platform.is.mobile),E=h(()=>c.platform.is.mobile?"width: 90%; height:270px":"width: 350px; height:285px"),x=h(()=>c.platform.is.mobile?"width: 370px;":"width: 90%;"),w=h(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?((parseFloat(e.value.taxes)+parseFloat(e.value.freight))/(e.value.mcont/e.value.qubic*e.value.pxc)+e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(2):0),z=h(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?(e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(2):0),r=h(()=>i.value.map(o=>o.maker).filter((o,a,s)=>s.indexOf(o)===a)),t=async()=>{c.loading.show({message:"Cargando Formulario"}),console.log("Obteniendo Articulos"),xe.get("/getProducts").then(o=>{console.log(o.data),i.value=o.data.products,e.value.taxes=o.data.expenses.find(a=>a.id===1)._value,e.value.freight=o.data.expenses.find(a=>a.id===2)._value,e.value.tpcusd=o.data.expenses.find(a=>a.id===3)._value,e.value.tpcrmb=o.data.expenses.find(a=>a.id===4)._value,c.loading.hide()}).catch(o=>{console.error(o)})},g=async()=>{c.loading.show({message:"Subiendo Info"});const o=new FormData;o.append("code",e.value.code),e.value.img_product.forEach((a,s)=>{o.append(`picture[${s}]`,a)}),o.append("description",e.value.description),e.value.img_provider.forEach((a,s)=>{o.append(`provider[${s}]`,a)}),o.append("chinesse_cost",z.value),o.append("taxes",e.value.taxes),o.append("freight",e.value.freight),o.append("measures",e.value.qubic),o.append("mexican_cost",w.value),o.append("pieces",e.value.pxc),o.append("_download",0),o.append("notes",e.value.notes),o.append("maker",e.value.provider),console.log(o),xe.post("/insProduct",o).then(a=>{console.log(a.data),t(),c.loading.hide(),c.notify({type:"positive",message:"Formulario Enviado",position:"center"}),e.value={code:"",description:"",yuanes:0,pxc:0,qubic:0,taxes:0,freight:0,tpcusd:0,tpcrmb:0,mcont:68,notes:"",img_provider:[],img_product:[]},_.value.reset(),p.value.reset()}).catch(a=>{console.error(a),c.loading.hide(),c.notify({type:"negative",message:"Hubo Algun problema",position:"center"})})},B=(o,a)=>{o.length>0&&(r.value.includes(o.toUpperCase())||r.value.push(o.toUpperCase()),a(o,"add-unique"))},f=(o,a)=>{a(()=>{if(o==="")d.value=r.value;else{const s=o.toLowerCase();d.value=r.value.filter($=>$.toLowerCase().indexOf(s)>-1)}})},n=o=>{console.log(o),e.value.img_product=e.value.img_product.filter(a=>!o.some(s=>s.name===a.name))},m=o=>{e.value.img_product=[...e.value.img_product,...o]},C=o=>{e.value.img_provider=[...e.value.img_provider,...o]};return t(),(o,a)=>(_e(),tt(Re,{padding:""},{default:M(()=>[S(yt,{class:"q-gutter-md"},{default:M(()=>[S(ge,{class:"my-card row"},{default:M(()=>[S(Z,{class:"col"},{default:M(()=>[ht,j("div",qt," $ "+T(z.value),1)]),_:1}),S(oe,{vertical:""}),S(Z,{class:"col"},{default:M(()=>[Ft,j("div",St," $ "+T(w.value),1)]),_:1}),S(oe,{vertical:""}),S(Z,{class:"col"},{default:M(()=>[Ct,j("div",kt," $ "+T((w.value-z.value).toFixed(2)),1)]),_:1})]),_:1}),j("div",{class:P(v.value?"":"row")},[j("div",wt,[S(he,{"hide-upload-btn":"",label:"Imagen Articulo",accept:".jpg, image/*",onAdded:m,multiple:"",style:O(E.value),onRemoved:n,ref_key:"artfil",ref:_},null,8,["style"])]),S(oe,{spaced:"",inset:"",vertical:"",dark:""}),j("div",zt,[S(he,{"hide-upload-btn":!0,style:O(E.value),accept:".jpg, image/*",label:"Imagen Proveedor",onAdded:C,onRemoved:C,multiple:"",ref_key:"providerfile",ref:p},null,8,["style"])]),v.value?lt("",!0):(_e(),at("div",Ut,[S(ge,{class:"my-card",style:O(E.value)},{default:M(()=>[S(Z,null,{default:M(()=>[j("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Codigo : "+T(e.value.code.toUpperCase()),3),j("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Descripcion : "+T(e.value.description.toUpperCase()),3),j("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Proveedor : "+T(e.value.provider),3),j("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Chino : $ "+T(z.value),3),j("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Mexicano : $ "+T(w.value),3),j("div",{class:P(v.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Gato X articulo: $ "+T(w.value-z.value),3)]),_:1})]),_:1},8,["style"])]))],2),j("div",Pt,[S(I,{filled:"",modelValue:e.value.code,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value.code=s),type:"text",label:"Codigo",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md"),mask:"XXXXXXXXXXXX"},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.description,"onUpdate:modelValue":a[1]||(a[1]=s=>e.value.description=s),type:"text",label:"Descripcion",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.notes,"onUpdate:modelValue":a[2]||(a[2]=s=>e.value.notes=s),type:"text",label:"Notas",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(Oe,{filled:"",modelValue:e.value.provider,"onUpdate:modelValue":a[3]||(a[3]=s=>e.value.provider=s),"use-input":"","input-debounce":"0",onNewValue:B,options:d.value,onFilter:f,style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md"),label:"Proveedor/Fabricante"},null,8,["modelValue","options","style","class"]),S(I,{filled:"",modelValue:e.value.yuanes,"onUpdate:modelValue":a[4]||(a[4]=s=>e.value.yuanes=s),type:"number",label:"Yuanes 	\xA5",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.pxc,"onUpdate:modelValue":a[5]||(a[5]=s=>e.value.pxc=s),type:"number",label:"Piezas Por Caja",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.qubic,"onUpdate:modelValue":a[6]||(a[6]=s=>e.value.qubic=s),type:"number",label:"Cubicaje",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.taxes,"onUpdate:modelValue":a[7]||(a[7]=s=>e.value.taxes=s),type:"number",label:"Impuestos",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.freight,"onUpdate:modelValue":a[8]||(a[8]=s=>e.value.freight=s),type:"number",label:"Flete",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.tpcusd,"onUpdate:modelValue":a[9]||(a[9]=s=>e.value.tpcusd=s),type:"number",label:"Tipo Cambio USD",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(I,{filled:"",modelValue:e.value.tpcrmb,"onUpdate:modelValue":a[10]||(a[10]=s=>e.value.tpcrmb=s),type:"number",label:"Tipo Cambio RMB",style:O(x.value),class:P(v.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),S(ue,{style:O(x.value),color:"primary",icon:"list",label:"Enviar Formulario",onClick:g,class:P(v.value?"q-mt-xs":"q-mt-md"),disable:!V.value},null,8,["style","class","disable"])])]),_:1})]),_:1}))}};export{Rt as default};
