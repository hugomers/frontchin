import{Q as le}from"./QBtn.8b8dbee6.js";import{d as ke,v as ye,Q as Ue,b as ze}from"./Ripple.4b32094e.js";import{L as we,k as ue,M as Ve,c as y,h,g as te,r as w,Q as he,s as ee,a7 as Be,u as xe,ag as Pe,l as Ee,o as je,ah as Re,a0 as Ne,$ as $e,U as me,_ as De,v as Le,x as Ae,a as Ie,p as Oe,a3 as Qe,H as pe,I as Te,J,K as P,a1 as O,ai as R,aj as Me,ak as z,a2 as H,al as We}from"./index.db24c702.js";import{m as Xe,u as He,a as Ge,n as fe,o as Ke,g as Ye,h as Je,j as Ze,k as et,i as D,Q as tt}from"./use-quasar.18bb97eb.js";import{a as ge,b as at}from"./axios.31a145d4.js";import"./rtl.c9c4564c.js";const lt={...we,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:l=>l>=0&&l<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},oe=50,_e=2*oe,qe=_e*Math.PI,ot=Math.round(qe*1e3)/1e3;var ut=ue({name:"QCircularProgress",props:{...lt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(l,{slots:p}){const{proxy:{$q:e}}=te(),n=Ve(l),d=y(()=>{const r=(e.lang.rtl===!0?-1:1)*l.angle;return{transform:l.reverse!==(e.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-r}deg)`:`rotate3d(0, 0, 1, ${r-90}deg)`}}),v=y(()=>l.instantFeedback!==!0&&l.indeterminate!==!0?{transition:`stroke-dashoffset ${l.animationSpeed}ms ease 0s, stroke ${l.animationSpeed}ms ease`}:""),x=y(()=>_e/(1-l.thickness/2)),c=y(()=>`${x.value/2} ${x.value/2} ${x.value} ${x.value}`),B=y(()=>Xe(l.value,l.min,l.max)),_=y(()=>l.max-l.min),S=y(()=>l.thickness/2*x.value),U=y(()=>{const r=(l.max-B.value)/_.value,t=l.rounded===!0&&B.value<l.max&&r<.25?S.value/2*(1-r/.25):0;return qe*r+t});function E({thickness:r,offset:t,color:g,cls:V,rounded:f}){return h("circle",{class:"q-circular-progress__"+V+(g!==void 0?` text-${g}`:""),style:v.value,fill:"transparent",stroke:"currentColor","stroke-width":r,"stroke-dasharray":ot,"stroke-dashoffset":t,"stroke-linecap":f,cx:x.value,cy:x.value,r:oe})}return()=>{const r=[];l.centerColor!==void 0&&l.centerColor!=="transparent"&&r.push(h("circle",{class:`q-circular-progress__center text-${l.centerColor}`,fill:"currentColor",r:oe-S.value/2,cx:x.value,cy:x.value})),l.trackColor!==void 0&&l.trackColor!=="transparent"&&r.push(E({cls:"track",thickness:S.value,offset:0,color:l.trackColor})),r.push(E({cls:"circle",thickness:S.value,offset:U.value,color:l.color,rounded:l.rounded===!0?"round":void 0}));const t=[h("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:c.value,"aria-hidden":"true"},r)];return l.showValue===!0&&t.push(h("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:l.fontSize}},p.default!==void 0?p.default():[h("div",B.value)])),h("div",{class:`q-circular-progress q-circular-progress--${l.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":l.min,"aria-valuemax":l.max,"aria-valuenow":l.indeterminate===!0?void 0:B.value},ke(p.internal,t))}}});function G(l,p,e,n){const d=[];return l.forEach(v=>{n(v)===!0?d.push(v):p.push({failedPropValidation:e,file:v})}),d}function Z(l){l&&l.dataTransfer&&(l.dataTransfer.dropEffect="copy"),ee(l)}const st={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},rt=["rejected"];function nt({editable:l,dnd:p,getFileInput:e,addFilesToQueue:n}){const{props:d,emit:v,proxy:x}=te(),c=w(null),B=y(()=>d.accept!==void 0?d.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),_=y(()=>parseInt(d.maxFiles,10)),S=y(()=>parseInt(d.maxTotalSize,10));function U(s){if(l.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&he(s);else{const m=e();m&&m!==s.target&&m.click(s)}}function E(s){l.value&&s&&n(null,s)}function r(s,m,C,i){let a=Array.from(m||s.target.files);const u=[],$=()=>{u.length!==0&&v("rejected",u)};if(d.accept!==void 0&&B.value.indexOf("*/")===-1&&(a=G(a,u,"accept",q=>B.value.some(k=>q.type.toUpperCase().startsWith(k)||q.name.toUpperCase().endsWith(k))),a.length===0))return $();if(d.maxFileSize!==void 0){const q=parseInt(d.maxFileSize,10);if(a=G(a,u,"max-file-size",k=>k.size<=q),a.length===0)return $()}if(d.multiple!==!0&&a.length!==0&&(a=[a[0]]),a.forEach(q=>{q.__key=q.webkitRelativePath+q.lastModified+q.name+q.size}),i===!0){const q=C.map(k=>k.__key);a=G(a,u,"duplicate",k=>q.includes(k.__key)===!1)}if(a.length===0)return $();if(d.maxTotalSize!==void 0){let q=i===!0?C.reduce((k,A)=>k+A.size,0):0;if(a=G(a,u,"max-total-size",k=>(q+=k.size,q<=S.value)),a.length===0)return $()}if(typeof d.filter=="function"){const q=d.filter(a);a=G(a,u,"filter",k=>q.includes(k))}if(d.maxFiles!==void 0){let q=i===!0?C.length:0;if(a=G(a,u,"max-files",()=>(q++,q<=_.value)),a.length===0)return $()}if($(),a.length!==0)return a}function t(s){Z(s),p.value!==!0&&(p.value=!0)}function g(s){ee(s),(s.relatedTarget!==null||Be.is.safari!==!0?s.relatedTarget!==c.value:document.elementsFromPoint(s.clientX,s.clientY).includes(c.value)===!1)===!0&&(p.value=!1)}function V(s){Z(s);const m=s.dataTransfer.files;m.length!==0&&n(null,m),p.value=!1}function f(s){if(p.value===!0)return h("div",{ref:c,class:`q-${s}__dnd absolute-full`,onDragenter:Z,onDragover:Z,onDragleave:g,onDrop:V})}return Object.assign(x,{pickFiles:U,addFiles:E}),{pickFiles:U,addFiles:E,onDragover:t,onDragleave:g,processFiles:r,getDndNode:f,maxFilesNumber:_,maxTotalSizeNumber:S}}function be(l){return(l*100).toFixed(2)+"%"}const it={...He,...st,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Fe=[...rt,"start","finish","added","removed"];function dt(l,p){const e=te(),{props:n,slots:d,emit:v,proxy:x}=e,{$q:c}=x,B=Ge(n,c);function _(o,F,j){if(o.__status=F,F==="idle"){o.__uploaded=0,o.__progress=0,o.__sizeLabel=fe(o.size),o.__progressLabel="0.00%";return}if(F==="failed"){x.$forceUpdate();return}o.__uploaded=F==="uploaded"?o.size:j,o.__progress=F==="uploaded"?1:Math.min(.9999,o.__uploaded/o.size),o.__progressLabel=be(o.__progress),x.$forceUpdate()}const S=y(()=>n.disable!==!0&&n.readonly!==!0),U=w(!1),E=w(null),r=w(null),t={files:w([]),queuedFiles:w([]),uploadedFiles:w([]),uploadedSize:w(0),updateFileStatus:_,isAlive:()=>ye(e)===!1},{pickFiles:g,addFiles:V,onDragover:f,onDragleave:s,processFiles:m,getDndNode:C,maxFilesNumber:i,maxTotalSizeNumber:a}=nt({editable:S,dnd:U,getFileInput:ne,addFilesToQueue:ie});Object.assign(t,l({props:n,slots:d,emit:v,helpers:t,exposeApi:o=>{Object.assign(t,o)}})),t.isBusy===void 0&&(t.isBusy=w(!1));const u=w(0),$=y(()=>u.value===0?0:t.uploadedSize.value/u.value),q=y(()=>be($.value)),k=y(()=>fe(u.value)),A=y(()=>S.value===!0&&t.isUploading.value!==!0&&(n.multiple===!0||t.queuedFiles.value.length===0)&&(n.maxFiles===void 0||t.files.value.length<i.value)&&(n.maxTotalSize===void 0||u.value<a.value)),b=y(()=>S.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);xe(Pe,ce);const T=y(()=>"q-uploader column no-wrap"+(B.value===!0?" q-uploader--dark q-dark":"")+(n.bordered===!0?" q-uploader--bordered":"")+(n.square===!0?" q-uploader--square no-border-radius":"")+(n.flat===!0?" q-uploader--flat no-shadow":"")+(n.disable===!0?" disabled q-uploader--disable":"")+(U.value===!0?" q-uploader--dnd":"")),M=y(()=>"q-uploader__header"+(n.color!==void 0?` bg-${n.color}`:"")+(n.textColor!==void 0?` text-${n.textColor}`:""));Ee(t.isUploading,(o,F)=>{F===!1&&o===!0?v("start"):F===!0&&o===!1&&v("finish")});function W(){n.disable===!1&&(t.abort(),t.uploadedSize.value=0,u.value=0,re(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function L(){n.disable===!1&&se(["uploaded"],()=>{t.uploadedFiles.value=[]})}function Y(){se(["idle","failed"],({size:o})=>{u.value-=o,t.queuedFiles.value=[]})}function se(o,F){if(n.disable===!0)return;const j={files:[],size:0},I=t.files.value.filter(N=>o.indexOf(N.__status)===-1?!0:(j.size+=N.size,j.files.push(N),N.__img!==void 0&&window.URL.revokeObjectURL(N.__img.src),!1));j.files.length!==0&&(t.files.value=I,F(j),v("removed",j.files))}function ae(o){n.disable||(o.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(F=>F.__key!==o.__key):o.__status==="uploading"?o.__abort():u.value-=o.size,t.files.value=t.files.value.filter(F=>F.__key!==o.__key?!0:(F.__img!==void 0&&window.URL.revokeObjectURL(F.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(F=>F.__key!==o.__key),v("removed",[o]))}function re(){t.files.value.forEach(o=>{o.__img!==void 0&&window.URL.revokeObjectURL(o.__img.src)})}function ne(){return r.value||E.value.getElementsByClassName("q-uploader__input")[0]}function ie(o,F){const j=m(o,F,t.files.value,!0),I=ne();I!=null&&(I.value=""),j!==void 0&&(j.forEach(N=>{if(t.updateFileStatus(N,"idle"),u.value+=N.size,n.noThumbnails!==!0&&N.type.toUpperCase().startsWith("IMAGE")){const ve=new Image;ve.src=window.URL.createObjectURL(N),N.__img=ve}}),t.files.value=t.files.value.concat(j),t.queuedFiles.value=t.queuedFiles.value.concat(j),v("added",j),n.autoUpload===!0&&t.upload())}function de(){b.value===!0&&t.upload()}function K(o,F,j){if(o===!0){const I={type:"a",key:F,icon:c.iconSet.uploader[F],flat:!0,dense:!0};let N;return F==="add"?(I.onClick=g,N=ce):I.onClick=j,h(le,I,N)}}function ce(){return h("input",{ref:r,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:n.accept,multiple:n.multiple===!0?"multiple":void 0,capture:n.capture,onMousedown:he,onClick:g,onChange:ie})}function Se(){return d.header!==void 0?d.header(X):[h("div",{class:"q-uploader__header-content column"},[h("div",{class:"flex flex-center no-wrap q-gutter-xs"},[K(t.queuedFiles.value.length!==0,"removeQueue",Y),K(t.uploadedFiles.value.length!==0,"removeUploaded",L),t.isUploading.value===!0?h(me,{class:"q-uploader__spinner"}):null,h("div",{class:"col column justify-center"},[n.label!==void 0?h("div",{class:"q-uploader__title"},[n.label]):null,h("div",{class:"q-uploader__subtitle"},[k.value+" / "+q.value])]),K(A.value,"add"),K(n.hideUploadBtn===!1&&b.value===!0,"upload",t.upload),K(t.isUploading.value,"clear",t.abort)])])]}function Ce(){return d.list!==void 0?d.list(X):t.files.value.map(o=>h("div",{key:o.__key,class:"q-uploader__file relative-position"+(n.noThumbnails!==!0&&o.__img!==void 0?" q-uploader__file--img":"")+(o.__status==="failed"?" q-uploader__file--failed":o.__status==="uploaded"?" q-uploader__file--uploaded":""),style:n.noThumbnails!==!0&&o.__img!==void 0?{backgroundImage:'url("'+o.__img.src+'")'}:null},[h("div",{class:"q-uploader__file-header row flex-center no-wrap"},[o.__status==="failed"?h(Ue,{class:"q-uploader__file-status",name:c.iconSet.type.negative,color:"negative"}):null,h("div",{class:"q-uploader__file-header-content col"},[h("div",{class:"q-uploader__title"},[o.name]),h("div",{class:"q-uploader__subtitle row items-center no-wrap"},[o.__sizeLabel+" / "+o.__progressLabel])]),o.__status==="uploading"?h(ut,{value:o.__progress,min:0,max:1,indeterminate:o.__progress===0}):h(le,{round:!0,dense:!0,flat:!0,icon:c.iconSet.uploader[o.__status==="uploaded"?"done":"clear"],onClick:()=>{ae(o)}})])]))}je(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&re()});const X={};for(const o in t)Re(t[o])===!0?Ne(X,o,()=>t[o].value):X[o]=t[o];return Object.assign(X,{upload:de,reset:W,removeUploadedFiles:L,removeQueuedFiles:Y,removeFile:ae,pickFiles:g,addFiles:V}),$e(X,{canAddFiles:()=>A.value,canUpload:()=>b.value,uploadSizeLabel:()=>k.value,uploadProgressLabel:()=>q.value}),p({...t,upload:de,reset:W,removeUploadedFiles:L,removeQueuedFiles:Y,removeFile:ae,pickFiles:g,addFiles:V,canAddFiles:A,canUpload:b,uploadSizeLabel:k,uploadProgressLabel:q}),()=>{const o=[h("div",{class:M.value},Se()),h("div",{class:"q-uploader__list scroll"},Ce()),C("uploader")];t.isBusy.value===!0&&o.push(h("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[h(me)]));const F={ref:E,class:T.value};return A.value===!0&&Object.assign(F,{onDragover:f,onDragleave:s}),h("div",F,o)}}const ct=()=>!0;function vt(l){const p={};return l.forEach(e=>{p[e]=ct}),p}const mt=vt(Fe);var pt=({name:l,props:p,emits:e,injectPlugin:n})=>ue({name:l,props:{...it,...p},emits:De(e)===!0?{...mt,...e}:[...Fe,...e],setup(d,{expose:v}){return dt(n,v)}});function Q(l){return typeof l=="function"?l:()=>l}const ft={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>l=>l.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},gt=["factoryFailed","uploaded","failed","uploading"];function bt({props:l,emit:p,helpers:e}){const n=w([]),d=w([]),v=w(0),x=y(()=>({url:Q(l.url),method:Q(l.method),headers:Q(l.headers),formFields:Q(l.formFields),fieldName:Q(l.fieldName),withCredentials:Q(l.withCredentials),sendRaw:Q(l.sendRaw),batch:Q(l.batch)})),c=y(()=>v.value>0),B=y(()=>d.value.length!==0);let _;function S(){n.value.forEach(t=>{t.abort()}),d.value.length!==0&&(_=!0)}function U(){const t=e.queuedFiles.value.slice(0);e.queuedFiles.value=[],x.value.batch(t)?E(t):t.forEach(g=>{E([g])})}function E(t){if(v.value++,typeof l.factory!="function"){r(t,{});return}const g=l.factory(t);if(!g)p("factoryFailed",new Error("QUploader: factory() does not return properly"),t),v.value--;else if(typeof g.catch=="function"&&typeof g.then=="function"){d.value.push(g);const V=f=>{e.isAlive()===!0&&(d.value=d.value.filter(s=>s!==g),d.value.length===0&&(_=!1),e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(s=>{e.updateFileStatus(s,"failed")}),p("factoryFailed",f,t),v.value--)};g.then(f=>{_===!0?V(new Error("Aborted")):e.isAlive()===!0&&(d.value=d.value.filter(s=>s!==g),r(t,f))}).catch(V)}else r(t,g||{})}function r(t,g){const V=new FormData,f=new XMLHttpRequest,s=(b,T)=>g[b]!==void 0?Q(g[b])(T):x.value[b](T),m=s("url",t);if(!m){console.error("q-uploader: invalid or no URL specified"),v.value--;return}const C=s("formFields",t);C!==void 0&&C.forEach(b=>{V.append(b.name,b.value)});let i=0,a=0,u=0,$=0,q;f.upload.addEventListener("progress",b=>{if(q===!0)return;const T=Math.min($,b.loaded);e.uploadedSize.value+=T-u,u=T;let M=u-a;for(let W=i;M>0&&W<t.length;W++){const L=t[W];if(M>L.size)M-=L.size,i++,a+=L.size,e.updateFileStatus(L,"uploading",L.size);else{e.updateFileStatus(L,"uploading",M);return}}},!1),f.onreadystatechange=()=>{f.readyState<4||(f.status&&f.status<400?(e.uploadedFiles.value=e.uploadedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"uploaded")}),p("uploaded",{files:t,xhr:f})):(q=!0,e.uploadedSize.value-=u,e.queuedFiles.value=e.queuedFiles.value.concat(t),t.forEach(b=>{e.updateFileStatus(b,"failed")}),p("failed",{files:t,xhr:f})),v.value--,n.value=n.value.filter(b=>b!==f))},f.open(s("method",t),m),s("withCredentials",t)===!0&&(f.withCredentials=!0);const k=s("headers",t);k!==void 0&&k.forEach(b=>{f.setRequestHeader(b.name,b.value)});const A=s("sendRaw",t);t.forEach(b=>{e.updateFileStatus(b,"uploading",0),A!==!0&&V.append(s("fieldName",b),b,b.name),b.xhr=f,b.__abort=()=>{f.abort()},$+=b.size}),p("uploading",{files:t,xhr:f}),n.value.push(f),A===!0?f.send(new Blob(t)):f.send(V)}return{isUploading:c,isBusy:B,abort:S,upload:U}}var yt={name:"QUploader",props:ft,emits:gt,injectPlugin:bt},ht=pt(yt),xt=ue({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(l,{slots:p,emit:e}){const n=te(),d=w(null);let v=0;const x=[];function c(r){const t=typeof r=="boolean"?r:l.noErrorFocus!==!0,g=++v,V=(m,C)=>{e("validation"+(m===!0?"Success":"Error"),C)},f=m=>{const C=m.validate();return typeof C.then=="function"?C.then(i=>({valid:i,comp:m}),i=>({valid:!1,comp:m,err:i})):Promise.resolve({valid:C,comp:m})};return(l.greedy===!0?Promise.all(x.map(f)).then(m=>m.filter(C=>C.valid!==!0)):x.reduce((m,C)=>m.then(()=>f(C).then(i=>{if(i.valid===!1)return Promise.reject(i)})),Promise.resolve()).catch(m=>[m])).then(m=>{if(m===void 0||m.length===0)return g===v&&V(!0),!0;if(g===v){const{comp:C,err:i}=m[0];if(i!==void 0&&console.error(i),V(!1,C),t===!0){const a=m.find(({comp:u})=>typeof u.focus=="function"&&ye(u.$)===!1);a!==void 0&&a.comp.focus()}}return!1})}function B(){v++,x.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function _(r){r!==void 0&&ee(r);const t=v+1;c().then(g=>{t===v&&g===!0&&(l.onSubmit!==void 0?e("submit",r):r!==void 0&&r.target!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function S(r){r!==void 0&&ee(r),e("reset"),Oe(()=>{B(),l.autofocus===!0&&l.noResetFocus!==!0&&U()})}function U(){Ke(()=>{if(d.value===null)return;const r=d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),t=>t.tabIndex>-1);r!=null&&r.focus({preventScroll:!0})})}xe(Qe,{bindComponent(r){x.push(r)},unbindComponent(r){const t=x.indexOf(r);t>-1&&x.splice(t,1)}});let E=!1;return Le(()=>{E=!0}),Ae(()=>{E===!0&&l.autofocus===!0&&U()}),Ie(()=>{l.autofocus===!0&&U()}),Object.assign(n.proxy,{validate:c,resetValidation:B,submit:_,reset:S,focus:U,getValidationComponents:()=>x}),()=>h("form",{class:"q-form",ref:d,onSubmit:_,onReset:S},ze(p.default))}});const _t={class:"row"},qt={class:"col flex justify-center"},Ft={key:0,class:"col flex justify-center"},St={class:"flex justify-center"},Bt={__name:"formPage",setup(l){const p=Ye(),e=w({picture:null,code:"",description:"",provider:null,yuanes:0,pxc:0,qubic:0,taxes:0,freight:0,tpcusd:0,tpcrmb:0,mcont:68}),n=w([]),d=w([]);w([]);const v=w(null),x=y(()=>e.value.code.length>0&&e.value.description.length>0),c=y(()=>p.platform.is.mobile),B=y(()=>p.platform.is.mobile?"width: 90%; height:270px":"width: 350px; height:285px"),_=y(()=>p.platform.is.mobile?"width: 370px;":"width: 90%;"),S=y(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?((parseFloat(e.value.taxes)+parseFloat(e.value.freight))/(e.value.mcont/e.value.qubic*e.value.pxc)+e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(6):0),U=y(()=>e.value.yuanes>0&&e.value.pxc>0&&e.value.taxes>0&&e.value.qubic>0&&e.value.freight>0&&e.value.tpcusd>0&&e.value.tpcrmb>0?(e.value.yuanes*(e.value.tpcusd/e.value.tpcrmb)).toFixed(6):0),E=y(()=>n.value.filter(a=>(a.code+a.provider).toUpperCase()===(e.value.code+e.value.provider).toUpperCase()).length>=1),r=y(()=>n.value.map(i=>i.provider).filter((i,a,u)=>u.indexOf(i)===a)),t=()=>{e.value.picture=""},g=i=>{console.log(i);const a=new FormData;return a.append("files",i[0]),a.append("__key",e.value.code+".jpg"),console.log(a),at.post("http://mx100-cedis-mkrqpwcczk.dynamic-m.com:5150/appchin/public/api/addFile",a).then(u=>{console.log("Archivos subidos exitosamente:",u.data),v.value.reset()}).catch(u=>{console.error("Error al subir archivos:",u)}),"http://mx100-cedis-mkrqpwcczk.dynamic-m.com:5150/appchin/public/api/addFile"},V=()=>{v.value.upload()},f=async()=>{p.loading.show({message:"Cargando Formulario"}),console.log("Obteniendo Articulos"),ge.get("/getProducts").then(i=>{console.log(i.data),n.value=i.data.products,e.value.taxes=i.data.expenses.find(a=>a.id===1)._value,e.value.freight=i.data.expenses.find(a=>a.id===2)._value,e.value.tpcusd=i.data.expenses.find(a=>a.id===3)._value,e.value.tpcrmb=i.data.expenses.find(a=>a.id===4)._value,p.loading.hide()}).catch(i=>{console.error(i)})},s=async()=>{let i={code:e.value.code,picture:e.value.picture!=null?"/"+e.value.code+".jpg":null,description:e.value.description,provider:e.value.provider.toUpperCase(),chinesse_cost:U.value,taxes:e.value.taxes,freight:e.value.freight,measures:e.value.qubic,mexican_cost:S.value,pieces:e.value.pxc};console.log(i),ge.post("/insProduct",i).then(a=>{console.log(a.data),V(),e.value.code="",e.value.description="",e.value.provider=null,e.value.yuanes=0,e.value.pxc=0,e.value.qubic=0}).catch(a=>{console.error(a)})},m=(i,a)=>{i.length>0&&(r.value.includes(i.toUpperCase())||r.value.push(i.toUpperCase()),a(i,"add-unique"))},C=(i,a)=>{a(()=>{if(i==="")d.value=r.value;else{const u=i.toLowerCase();d.value=r.value.filter($=>$.toLowerCase().indexOf(u)>-1)}})};return f(),(i,a)=>(pe(),Te(Je,{padding:""},{default:J(()=>[P(xt,{class:"q-gutter-md"},{default:J(()=>[O("div",_t,[O("div",qt,[P(ht,{"hide-upload-btn":!0,ref_key:"uploaderRef",ref:v,url:g,color:"primary",style:R(B.value),label:"Inserte Imagen",onAdded:t},null,8,["style"])]),c.value?We("",!0):(pe(),Me("div",Ft,[P(Ze,{class:"my-card",style:R(B.value)},{default:J(()=>[P(et,null,{default:J(()=>[O("div",{class:z(c.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Codigo : "+H(e.value.code.toUpperCase()),3),O("div",{class:z(c.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Descripcion : "+H(e.value.description.toUpperCase()),3),O("div",{class:z(c.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Proveedor : "+H(e.value.provider),3),O("div",{class:z(c.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Chino : $ "+H(U.value),3),O("div",{class:z(c.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Costo Mexicano : $ "+H(S.value),3),O("div",{class:z(c.value?"text-subtitle1 q-mt-xs":"text-subtitle1 q-mt-md")},"Gato X articulo: $ "+H(S.value-U.value),3)]),_:1})]),_:1},8,["style"])]))]),O("div",St,[P(D,{filled:"",modelValue:e.value.code,"onUpdate:modelValue":a[0]||(a[0]=u=>e.value.code=u),type:"text",label:"Codigo",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md"),error:E.value,"error-message":"El articulo ya existe con el proveedor"},null,8,["modelValue","style","class","error"]),P(D,{filled:"",modelValue:e.value.description,"onUpdate:modelValue":a[1]||(a[1]=u=>e.value.description=u),type:"text",label:"Descripcion",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(tt,{filled:"",modelValue:e.value.provider,"onUpdate:modelValue":a[2]||(a[2]=u=>e.value.provider=u),"use-input":"","use-chips":"",miltiple:"","input-debounce":"0",onNewValue:m,options:d.value,onFilter:C,style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md"),label:"Proveedor/Fabricante"},null,8,["modelValue","options","style","class"]),P(D,{filled:"",modelValue:e.value.yuanes,"onUpdate:modelValue":a[3]||(a[3]=u=>e.value.yuanes=u),type:"number",label:"Yuanes 	\xA5",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:e.value.pxc,"onUpdate:modelValue":a[4]||(a[4]=u=>e.value.pxc=u),type:"number",label:"Piezas Por Caja",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:e.value.qubic,"onUpdate:modelValue":a[5]||(a[5]=u=>e.value.qubic=u),type:"number",label:"Cubicaje",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:e.value.taxes,"onUpdate:modelValue":a[6]||(a[6]=u=>e.value.taxes=u),type:"number",label:"Impuestos",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:e.value.freight,"onUpdate:modelValue":a[7]||(a[7]=u=>e.value.freight=u),type:"number",label:"Flete",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:e.value.tpcusd,"onUpdate:modelValue":a[8]||(a[8]=u=>e.value.tpcusd=u),type:"number",label:"Tipo Cambio USD",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:e.value.tpcrmb,"onUpdate:modelValue":a[9]||(a[9]=u=>e.value.tpcrmb=u),type:"number",label:"Tipo Cambio RMB",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md")},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:S.value,"onUpdate:modelValue":a[10]||(a[10]=u=>S.value=u),type:"number",label:"Costo Mexicano $",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md"),disable:!0},null,8,["modelValue","style","class"]),P(D,{filled:"",modelValue:U.value,"onUpdate:modelValue":a[11]||(a[11]=u=>U.value=u),type:"number",label:"Costo Chino MXM",style:R(_.value),class:z(c.value?"q-mt-xs":"q-mt-md"),disable:!0},null,8,["modelValue","style","class"]),P(le,{style:R(_.value),color:"primary",icon:"list",label:"Enviar Formulario",onClick:s,class:z(c.value?"q-mt-xs":"q-mt-md"),disable:!x.value},null,8,["style","class","disable"])])]),_:1})]),_:1}))}};export{Bt as default};
